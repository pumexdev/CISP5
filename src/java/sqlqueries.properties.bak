# To change this template, choose Tools | Templates
# and open the template in the editor.
#####################################USER#################################
active.status=1
user.insertquery=INSERT INTO User (UserName, Pwd, UserLevel, OrganizationId, ProcessId, BusinessCenterId, UserStatus) VALUES (?,?,?,?,?,?,?)
user.getlevels=SELECT UserGroupId,Description FROM UserGroup WHERE UGStatus=1 ORDER BY Description ASC
user.getusers=SELECT u.*,ug.Description userLevel,o.OrganizationName orgName,p.ProcessName procName,l.BusinessCenterName locName,s.StatusName statName FROM User u LEFT JOIN UserGroup ug ON ug.UserGroupId=u.UserLevel LEFT JOIN Organization o ON o.OrganizationId=u.OrganizationId LEFT JOIN Process p ON p.ProcessId=u.ProcessId LEFT JOIN BusinessCenter l ON l.BusinessCenterId=u.BusinessCenterId LEFT JOIN Status s ON s.StatusId=u.UserStatus
user.checkLogin=SELECT UserId,UserName,Pwd,UserLevel,OrganizationId,ProcessId,BusinessCenterId,UserStatus,WritePermission FROM User,UserGroup WHERE User.UserLevel=UserGroup.UserGroupId AND UserName=? AND Pwd=? AND  UserStatus=?
#user.getMenuList=SELECT * FROM Menu m LEFT JOIN UserGroupMenu ugm ON ugm.MenuId=m.MenuId LEFT JOIN UserGroupUser ugu ON ugu.UserGroupId=ugm.UserGroupId WHERE ugu.UserId=? 
#user.getMenuList=SELECT DISTINCT Description,MenuUrl,m.MenuId,ParentMenuId,ugu.UserGroupId FROM Menu m LEFT JOIN UserGroupMenu ugm ON ugm.MenuId=m.MenuId LEFT JOIN UserGroupUser ugu ON ugu.UserGroupId=ugm.UserGroupId WHERE ugu.UserId=? AND MenuStatus=1 ORDER BY ParentMenuId,MenuId,Description DESC
user.getMenuList=SELECT DISTINCT Description,MenuClass,MenuUrl,Menu.MenuId FROM UserGroupMenu,Menu,UserGroupUser WHERE UserGroupMenu.MenuId=Menu.MenuId AND UserGroupMenu.UserGroupId=UserGroupUser.UserGroupId AND UserId=? AND ParentMenuId=? AND MenuStatus=1 ORDER BY MenuOrder
user.getSubMenuList=SELECT DISTINCT Description,MenuUrl FROM UserGroupMenu,Menu,UserGroupUser WHERE UserGroupMenu.MenuId=Menu.MenuId AND UserGroupMenu.UserGroupId=UserGroupUser.UserGroupId AND UserId=? AND ParentMenuId=? AND MenuStatus=1 AND MenuHome=0 ORDER BY MenuOrder DESC
user.getSubMenuHome=SELECT DISTINCT MenuUrl FROM UserGroupMenu,Menu,UserGroupUser WHERE UserGroupMenu.MenuId=Menu.MenuId AND UserGroupMenu.UserGroupId=UserGroupUser.UserGroupId AND UserId=? AND ParentMenuId=? AND MenuStatus=1 AND MenuHome=1
user.updatequery=UPDATE User SET UserName=?,Pwd=?,UserLevel=?,OrganizationId=?,ProcessId=?,BusinessCenterId=?,UserStatus=? WHERE UserId=?
user.usergroupuser=UPDATE UserGroupUser SET UserGroupId=? WHERE UserId=?
useredit.getdata=SELECT * FROM User WHERE UserId=?
user.checkuserexists=SELECT * FROM User WHERE UserName=?
user.getdefaulturl=SELECT defaulturl FROM UserGroup WHERE UserGroupId=?
usergroup.insertusers=INSERT INTO UserGroupUser VALUES(?,?)
user.getdata_by_userlevel=SELECT * FROM User WHERE UserLevel=?
#########################END-USER################################################


#######################Organization################################
organization.getorganizations=SELECT OrganizationId,OrganizationName FROM Organization 
organization.insertorg=INSERT INTO Organization ( OrganizationName, ShortName, Address, ContactPerson, PhoneNumber1, PhoneNumber2, EMailId, WebSite, OrganizationStatus) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
organization.getcountry=SELECT CountryId,CountryName FROM Country
organization.getorg=SELECT * FROM Organization WHERE OrganizationId=?
organization.updateorg=UPDATE Organization SET  OrganizationName = ? , ShortName = ? , Address = ? , ContactPerson = ? , PhoneNumber1 = ? , PhoneNumber2 = ? , EMailId = ? , WebSite = ?  ,LogoFile = ? WHERE OrganizationId = ?
organization.updateorg1=UPDATE Organization SET  OrganizationName = ? , ShortName = ? , Address = ? , ContactPerson = ? , PhoneNumber1 = ? , PhoneNumber2 = ? , EMailId = ? , WebSite = ?  WHERE OrganizationId = ?
#######################Organization################################


#######################Organization################################
organization.getorganizations=SELECT OrganizationId,Name FROM Organization WHERE Status=1 ORDER BY NAME ASC
organization.insertorg=INSERT INTO Organization ( OrganizationName, ShortName, Address, ContactPerson, PhoneNumber1, PhoneNumber2, EMailId, WebSite, OrganizationStatus) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
organization.getcountry=SELECT CountryId,CountryName FROM Country
organization.getorg=SELECT * FROM Organization WHERE OrganizationId=?
organization.getorganizations=SELECT OrganizationId,OrganizationName FROM Organization WHERE OrganizationStatus=1 ORDER BY OrganizationName ASC
organization.getorganizations=SELECT OrganizationId,OrganizationName FROM Organization WHERE OrganizationStatus=1 ORDER BY OrganizationName ASC
organization.getlogo=SELECT LogoFile FROM Organization WHERE OrganizationId=?
organization.getName=SELECT OrganizationName FROM Organization WHERE OrganizationId=?
organization.getURL=SELECT WebSite FROM Organization WHERE OrganizationId=?
#######################Organization################################

status.getuserstatus=SELECT StatusId,statusName FROM Status

#Excel operations
exceloperation.validation.getBussinessUnit=SELECT BusinessUnitName FROM BusinessUnit WHERE BusinessId=? AND BusinessCenterId=? AND BusinessUnitName=?
exceloperation.validation.getBusinessCenter=SELECT BusinessCenterId FROM BusinessCenter WHERE OrganizationId=? AND BusinessCenterName=?
exceloperation.validation.getBusiness=SELECT BusinessId FROM Business WHERE Organizationid=? AND BusinessName=?
exceloperation.emptype.temptable.insert=INSERT INTO TempEmployeeType (UserId, Description) VALUES ( ?, ?);
exceloperation.process.temptable.insert=INSERT INTO TempProcess	(UserId, ProcessName) VALUES ( ?, ?);
exceloperation.bu.temptable.insert=INSERT INTO TempBusinessUnit (UserId, BusinessUnitName) VALUES (?, ?)
exceloperation.process.temptable.delete=DELETE FROM TempProcess	WHERE UserId = ?
exceloperation.subprocess.temptable.delete=DELETE FROM TempSubProcess WHERE UserId = ?
exceloperation.bu.temptable.delete=DELETE FROM TempBusinessUnit WHERE UserId = ?
exceloperation.employeetype.temptable.delete=DELETE FROM TempEmployeeType WHERE UserId = ?
exceloperation.subprocess.temptable.insert=INSERT INTO TempSubProcess (UserId, SubProcessName, ProcessId) VALUES (?, ?, ?);
exceloperation.bu.validate.select=SELECT BusinessUnitName FROM TempBusinessUnit WHERE UserId=? AND BusinessUnitName NOT IN (SELECT DISTINCT BusinessUnitName FROM BusinessUnit,BusinessCenterBusinessUnit WHERE BusinessUnit.BusinessUnitId=BusinessCenterBusinessUnit.BusinessUnitId AND BusinessCenterId =?)
exceloperation.emptype.validate.select=SELECT Description FROM TempEmployeeType WHERE Description NOT IN (SELECT Description FROM EmployeeType) AND UserId=?
exceloperation.process.validate.select=SELECT ProcessName FROM TempProcess WHERE ProcessName NOT IN (SELECT ProcessName FROM Process WHERE OrganizationId=? AND ProcessStatus=1) AND UserId=?
exceloperation.subprocess.validate.select=SELECT SubProcessName FROM TempSubProcess WHERE SubProcessName NOT IN (SELECT SubProcessName FROM SubProcess WHERE SubProcessStatus=1) AND UserId=?
excel.process.map.select=SELECT ProcessId,ProcessName FROM Process WHERE OrganizationId=? AND ProcessStatus=?
excelexport.process.map.select=SELECT ProcessId,ProcessName FROM Process WHERE ProcessStatus=?
excel.subprocess.map.select=SELECT SubProcessId,SubProcessName FROM SubProcess WHERE ProcessId=? AND SubProcessStatus=?
excelexport.subprocess.map.select=SELECT SubProcessId,SubProcessName FROM SubProcess WHERE SubProcessStatus=?
excel.employeetype.select=SELECT EmployeeTypeId,Description FROM EmployeeType
excel.businessunit.map.select=SELECT distinct BusinessUnitId,BusinessUnitName FROM BusinessUnit
excel.date.validation=SELECT EntryDate FROM HRDataEntry WHERE EntryDate=? AND BusinessCenterId=?
excelexport.hrdataentry.select=SELECT EntryId,BusinessCenterName,EntryDate FROM HRDataEntry,BusinessCenter WHERE HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND HRDataEntry.BusinessCenterId=? AND EntryDate=?
excelexport.hremployee.select=SELECT EmployeeEntryId,EmployeeName,CostCenter,Description,ProcessName,SubProcessName,Grade,Tier,TotalFTE,TotalCompensation FROM HRDataEmployeeEntry,EmployeeType,Process,SubProcess WHERE HRDataEmployeeEntry.EmployeeTypeId=EmployeeType.EmployeeTypeId AND HRDataEmployeeEntry.ProcessId=Process.ProcessId AND HRDataEmployeeEntry.SubProcessId=SubProcess.SubProcessId AND EntryId=?
excelexport.hrempdetails.select=SELECT BusinessUnitId,FTE,Cost FROM HRDataEmployeeDetail WHERE EmployeeEntryId=?
excelexport.hrempdetails.select1=SELECT BusinessUnitId,FTE,Cost FROM HRDataEmployeeDetail WHERE BusinessUnitId IN (SELECT BusinessUnitId FROM BusinessCenterBusinessUnit WHERE BusinessCenterId=?) AND EmployeeEntryId=?
excelexport.getbusinessmap=SELECT BusinessUnit.BusinessUnitId,BusinessUnitName FROM BusinessUnit,BusinessCenterBusinessUnit WHERE BusinessUnit.BusinessUnitId=BusinessCenterBusinessUnit.BusinessUnitId AND BusinessCenterId=?
excelexportall.gethrdataentry.select=SELECT EntryId,BusinessCenterName,EntryDate FROM HRDataEntry,BusinessCenter WHERE HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND EntryDate=? ORDER BY BusinessCenterName
excelexportall.getclientname.select=SELECT BusinessUnitName FROM BusinessUnit WHERE BusinessUnitId=?
#Excel operation Ends.


############################UserGroup############################
usergroup.getdata=SELECT * FROM UserGroup WHERE UserGroupId=?
usergroup.editdata=UPDATE UserGroup SET Description=?,UGStatus=? WHERE UserGroupId=?
usergroup.getstatus=SELECT UserGroupId,UGStatus FROM UserGroup GROUP BY UGStatus ORDER BY UGStatus ASC
usergroup.getdesc=SELECT UserGroupId,Description FROM UserGroup
usergroup.getlist=SELECT UserGroupId,Description,StatusName FROM UserGroup ug,Status su WHERE UserGroupId=?  AND ug.UGStatus=su.StatusId

##################Business######################
business.insertquery=INSERT INTO Business (BusinessName,ShortName,OrganizationId,BusinessStatus) VALUES (?,?,?,?)
business.getdetails=SELECT * FROM Business WHERE BusinessId=?
business.editquery= UPDATE Business SET BusinessName=?,ShortName=?,OrganizationId=?,BusinessStatus=? where BusinessId=?
business.getstatus=SELECT BusinessId,BusinessStatus FROM Business GROUP BY BusinessStatus ORDER BY BusinessId 
business.getbusinessname=SELECT BusinessId,BusinessName FROM Business ORDER BY BusinessId ASC
business.getbusinessByName=SELECT * FROM Business WHERE BusinessName=?

businessunit.getlocation=SELECT BusinessCenterId,BusinessCenterName from BusinessCenter ORDER BY BusinessCenterId ASC
businessunit.getunitname=SELECT BusinessUnitId,BusinessUnitName FROM BusinessUnit ORDER BY BusinessUnitId ASC
businessunit.insertquery=INSERT INTO BusinessUnit(BusinessUnitName,ShortName,BusinessUnitStatus) VALUES(?,?,?)
businessunit.getquery=SELECT * FROM BusinessUnit WHERE BusinessUnitId=?
businessunit.editquery=UPDATE BusinessUnit SET BusinessUnitName=?,ShortName=?,BusinessUnitStatus=? WHERE BusinessUnitId=?
businesssubunit.insertquery=INSERT INTO SubBusinessUnit (BusinessUnitId,SubBusinessUnitName,ShortName,SubBusinessUnitStatus)VALUES (?,?,?,?)
businesssubunit.getdata=SELECT * FROM SubBusinessUnit WHERE SubBusinessUnitId=?
businesssubunit.editquery=UPDATE SubBusinessUnit SET BusinessUnitId=?,SubBusinessUnitName=?,ShortName=?,SubBusinessUnitStatus=? WHERE SubBusinessUnitId=?
businessunit.getnames=SELECT BusinessUnitId,BusinessUnitName FROM BusinessUnit WHERE BusinessId=?
businessunit.getlocationnames=
businessunit.getbusinessunitByName=SELECT * FROM BusinessUnit WHERE BusinessUnitName=?
businessunit.getlist=SELECT BusinessUnitId,BusinessUnitName FROM BusinessUnit
businesscenterbusinessunit.insert=INSERT INTO BusinessCenterBusinessUnit (BusinessCenterId,BusinessUnitId)VALUES(?,?)
businessunit.getmaxid=SELECT MAX(BusinessUnitId) FROM BusinessUnit
businessunitcenter.getlist=SELECT * FROM BusinessCenterBusinessUnit WHERE BusinessUnitId=?
BusinessCenterBusinessUnit.delete=DELETE FROM BusinessCenterBusinessUnit WHERE BusinessUnitId=?
BusinessCenterBusinessUnit.deletebylocation=DELETE FROM BusinessCenterBusinessUnit WHERE BusinessCenterId=?

statemententry.getDates=SELECT DISTINCT EntryDate FROM StatementEntry WHERE EntryStatus=1 ORDER BY EntryDate DESC
statemententry.getAllDates=SELECT DISTINCT EntryDate,EntryStatus FROM StatementEntry ORDER BY EntryDate DESC
businessunit.getbylocation=SELECT BU.BusinessUnitId,BusinessUnitName FROM BusinessUnit BU  JOIN BusinessCenterBusinessUnit BCB ON BU.BusinessUnitId=BCB.BusinessUnitId AND BCB.BusinessCenterId=? AND BU.BusinessUnitStatus=1
businessunit.getbylocation1=SELECT BU.BusinessUnitId,BusinessUnitName FROM BusinessUnit BU  JOIN ActualReference AC ON AC.BusinessUnitId=BU.BusinessUnitId AND AC.BusinessCenterId=? AND AC.StatementDate=? AND AC.ParamTypeCode=? GROUP BY BU.BusinessUnitName UNION SELECT BU.BusinessUnitId,BusinessUnitName FROM BusinessUnit BU  JOIN BusinessCenterBusinessUnit BCB ON BU.BusinessUnitId=BCB.BusinessUnitId AND BCB.BusinessCenterId=?
businessunit.getlistbylocation=SELECT BU.BusinessUnitId,BU.BusinessUnitName,BU.ShortName,ST.StatusName FROM  BusinessUnit BU JOIN BusinessCenterBusinessUnit BCB ON BU.BusinessUnitId=BCB.BusinessUnitId JOIN Status ST ON ST.StatusId=BU.BusinessUnitStatus AND BCB.BusinessCenterId=? ORDER BY ST.StatusName,BU.BusinessUnitName

##################Dashboard Queries############################
G1.1and1.2=SELECT COUNT(EmployeeName) AS Resource ,BusinessCenterName FROM HRDataEmployeeEntry,BusinessCenter ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND HRDataEntry.EntryDate=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName
G1.3and1.4=SELECT SUM(TotalCompensation) AS TotalCost ,BusinessCenterName FROM HRDataEmployeeEntry,BusinessCenter ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND HRDataEntry.EntryDate=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName
G1.5and1.6=SELECT ROUND(SUM(TotalCompensation)/COUNT(EmployeeName),0) AS AvgCost ,BusinessCenterName FROM HRDataEmployeeEntry,BusinessCenter ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND HRDataEntry.EntryDate=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName

G2.1and2.2=SELECT COUNT(EmployeeName) AS Resource ,CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation) AS TierDesignation FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier=HRDataEmployeeEntry.Tier AND HRDataEntry.EntryDate=? GROUP BY HRDataEmployeeEntry.Tier,Designation ORDER BY HRDataEmployeeEntry.Tier
G2.3and2.4=SELECT ROUND(COUNT(EmployeeName) /(SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.EntryDate=? )*100,0) perc ,CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation)  AS TierDesignation FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier=HRDataEmployeeEntry.Tier AND HRDataEntry.EntryDate=? GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
G2.5and2.6=SELECT ROUND( COUNT( EmployeeName ) / (SELECT COUNT( EmployeeName ) FROM HRDataEmployeeEntry, HRDataEntry, BusinessCenter b2 WHERE HRDataEntry.EntryId = HRDataEmployeeEntry.EntryId AND b2.BusinessCenterId = HRDataEntry.BusinessCenterId AND HRDataEntry.EntryDate =  ? AND b2.BusinessCenterId = b1.BusinessCenterId ) *100, 0 ) perc,b1.BusinessCenterName FROM HRDataEntry, HRDataEmployeeEntry, BusinessCenter b1 WHERE HRDataEntry.EntryId = HRDataEmployeeEntry.EntryId AND b1.BusinessCenterId = HRDataEntry.BusinessCenterId AND HRDataEmployeeEntry.Tier =3 AND HRDataEntry.EntryDate = ? GROUP BY b1.BusinessCenterName

G3.1and3.2=SELECT COUNT(EmployeeName) AS Resource ,ProcessName FROM HRDataEmployeeEntry,HRDataEntry,Process WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND Process.ProcessId=HRDataEmployeeEntry.ProcessId AND HRDataEntry.EntryDate=? GROUP BY ProcessName ORDER BY ProcessName
G3.3=SELECT ROUND(SUM(TotalCompensation)/SUM(TotalFTE),0) AS AvgCostPerFTE,Processname FROM HRDataEmployeeEntry,HRDataEntry,Process WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND Process.ProcessId=HRDataEmployeeEntry.ProcessId AND HRDataEntry.EntryDate=? GROUP BY ProcessName ORDER BY ProcessName

L1.1and1.2=SELECT COUNT(EmployeeName) AS Resource ,ProcessName FROM HRDataEmployeeEntry,Process ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=? AND Process.ProcessId=HRDataEmployeeEntry.ProcessId AND HRDataEntry.EntryDate=? GROUP BY ProcessName ORDER BY ProcessName
L1.3and1.4=SELECT sum(FTE) AS Resource, BusinessUnitName  FROM HRDataEmployeeEntry,BusinessUnit ,HRDataEntry,HRDataEmployeeDetail WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEmployeeDetail.EmployeeEntryid = HRDataEmployeeEntry.EmployeeEntryId AND HRDataEntry.BusinessCenterId=? AND BusinessUnit.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND HRDataEntry.EntryDate=? GROUP BY BusinessUnitName ORDER BY BusinessUnitName
L1.5and1.6=SELECT COUNT(EmployeeName) AS Resource, IFNULL(CostCenter,"---") FROM HRDataEmployeeEntry ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=? AND HRDataEntry.EntryDate=? GROUP BY CostCenter  ORDER BY CostCenter 
L1.7and1.8=SELECT COUNT(EmployeeName) AS Resource ,Grade FROM HRDataEmployeeEntry ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.EntryDate=? and HRDataEntry.BusinessCenterId=? GROUP BY Grade ORDER BY Grade

L2.1and2.2=SELECT COUNT(EmployeeName) AS Resource ,CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation) AS TierDesignation FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier =HRDataEmployeeEntry.Tier AND HRDataEntry.BusinessCenterId=? AND HRDataEntry.EntryDate=? GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
L2.3=SELECT ROUND(COUNT(EmployeeName) /(SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=? AND HRDataEntry.EntryDate=? )*100,0) perc ,CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation)  AS TierDesignation FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier=HRDataEmployeeEntry.Tier AND HRDataEntry.BusinessCenterId=? AND HRDataEntry.EntryDate=? GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
L2.4=SELECT ROUND(COUNT(EmployeeName) /(SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry e11 WHERE e11.EntryId=HRDataEmployeeEntry.EntryId AND e11.BusinessCenterId=e21.BusinessCenterId AND BusinessCenter.BusinessCenterId=e11.BusinessCenterId AND e11.EntryDate=?)*100,0) perc,BusinessCenterName FROM HRDataEntry e21,HRDataEmployeeEntry,BusinessCenter WHERE e21.EntryId=HRDataEmployeeEntry.EntryId AND BusinessCenter.BusinessCenterId=e21.BusinessCenterId AND HRDataEmployeeEntry.Tier=3 AND e21.EntryDate=? AND HRDataEmployeeEntry.EntryId=e21.EntryId GROUP BY BusinessCenterName
L2.5=SELECT IFNULL(ROUND(COUNT(EmployeeName) /(SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry h11,HRDataEntry  WHERE HRDataEntry.EntryId=h11.EntryId  AND HRDataEntry.BusinessCenterId=? AND h21.ProcessId=h11.ProcessId  AND HRDataEntry.EntryDate=?) *100,2),0) AS FTEPERC ,ProcessName FROM HRDataEmployeeEntry h21,HRDataEntry ,Process WHERE HRDataEntry.EntryId=h21.EntryId AND h21.ProcessId=Process.ProcessId AND HRDataEntry.BusinessCenterId=? AND Tier=3 AND HRDataEntry.EntryDate=? GROUP BY ProcessName ORDER BY ProcessName
L2.6=SELECT ROUND(COUNT(EmployeeName) / (SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry e11 WHERE e11.EntryId=HRDataEmployeeEntry.EntryId AND  e11.BusinessCenterId=e21.BusinessCenterId AND BusinessCenter.BusinessCenterId=e11.BusinessCenterId AND e11.EntryDate=?)*100,0) perc,BusinessCenterName FROM HRDataEntry e21,HRDataEmployeeEntry,BusinessCenter WHERE e21.EntryId=HRDataEmployeeEntry.EntryId AND BusinessCenter.BusinessCenterId=e21.BusinessCenterId AND HRDataEmployeeEntry.Tier=3 AND e21.EntryDate=? AND HRDataEmployeeEntry.EntryId=e21.EntryId GROUP BY BusinessCenterName 

L3.1=SELECT ROUND(ActualValue/SUM(FTE),0) AS VolumePerFTE, BusinessUnitName FROM ActualReference,HRDataEmployeeDetail,HRDataEmployeeEntry,HRDataEntry,BusinessUnit WHERE ActualReference.ParamTypeCode=2 and ActualReference.SubProcessId=HRDataEmployeeEntry.SubProcessId AND ActualReference.StatementDate=HRDataEntry.EntryDate and ActualReference.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND ActualReference.BusinessCenterId=HRDataEntry.BusinessCenterId AND ActualReference.Status=1 AND HRDataEmployeeEntry.EntryId=HRDataEntry.EntryId AND HRDataEmployeeDetail.EmployeeEntryId= HRDataEmployeeEntry.EmployeeEntryId AND BusinessUnit.BusinessUnitId=ActualReference.BusinessUnitId AND HRDataEmployeeEntry.SubProcessId=? AND HRDataEntry.EntryDate=? AND HRDataEntry.BusinessCenterId=?  GROUP BY BusinessUnitName ORDER BY BusinessUnitName
L3.2=SELECT IFNULL( ROUND( SUM( actualvalue ) / (SELECT SUM( FTE ) FROM HRDataEmployeeDetail WHERE EmployeeEntryId IN (SELECT EmployeeEntryId FROM HRDataEmployeeEntry WHERE EntryId IN (SELECT EntryId FROM HRDataEntry WHERE EntryDate = ? AND HRDataEntry.BusinessCenterId = e21.BusinessCenterId) AND SubProcessId =? ) ) , 0 ) , 0 ) AS AvgVolPerFTE, BusinessCenterName FROM ActualReference, BusinessCenter e21 WHERE ActualReference.Status =1 AND ActualReference.ParamTypeCode =2 AND e21.BusinessCenterId = ActualReference.BusinessCenterId AND ActualReference.StatementDate = ? AND ActualReference.SubProcessId =? GROUP BY BusinessCenterName
L3.3=SELECT ROUND(SUM(Cost)/ (SELECT SUM(ActualValue) FROM ActualReference  WHERE ActualReference.ParamTypeCode=2 AND ActualReference.SubProcessId=h21.SubProcessId AND ActualReference.StatementDate=h11.EntryDate AND ActualReference.BusinessUnitId=h31.BusinessUnitId AND ActualReference.BusinessCenterId=h11.BusinessCenterId  AND ActualReference.Status=1),2)  AS Avgpersonnelcost, BusinessUnitName FROM HRDataEmployeeDetail h31,HRDataEmployeeEntry h21,HRDataEntry h11,BusinessUnit WHERE  h21.EntryId=h11.EntryId AND h31.EmployeeEntryId= h21.EmployeeEntryId AND BusinessUnit.BusinessUnitId=h31.BusinessUnitId AND h21.SubProcessId=?   AND h11.EntryDate=? AND h11.BusinessCenterId=?  GROUP BY BusinessUnitName ORDER BY BusinessUnitName
L3.4=SELECT IFNULL(ROUND(1/IFNULL( SUM( actualvalue ) /  (SELECT SUM( Cost ) FROM HRDataEmployeeDetail WHERE EmployeeEntryId IN  (SELECT EmployeeEntryId FROM HRDataEmployeeEntry WHERE EntryId IN  (SELECT EntryId FROM HRDataEntry WHERE EntryDate = ? AND HRDataEntry.BusinessCenterId = e21.BusinessCenterId) AND SubProcessId =? ) ) , 0 ),2),0) AS AvgVolPerFTE, BusinessCenterName FROM ActualReference, BusinessCenter e21 WHERE ActualReference.Status =1 AND ActualReference.ParamTypeCode =2 AND e21.BusinessCenterId = ActualReference.BusinessCenterId AND ActualReference.StatementDate =? AND ActualReference.SubProcessId =? GROUP BY BusinessCenterName

L4.1and4.2=SELECT SUM(FTE) AS Resource ,BusinessUnitName FROM HRDataEmployeeEntry,HRDataEntry,BusinessUnit,HRDataEmployeeDetail WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEmployeeEntry.EmployeeEntryId = HRDataEmployeeDetail.EmployeeEntryId AND BusinessUnit.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND HRDataEntry.EntryDate=? AND HRDataEntry.BusinessCenterId=? GROUP BY BusinessUnitName ORDER BY BusinessUnitName
L4.3and4.4=SELECT ROUND((SUM(FTE)/ActualValue)*1000000000,0) AS FTEPERBillion ,BusinessUnitName FROM HRDataEmployeeEntry,HRDataEntry,BusinessUnit,HRDataEmployeeDetail,ActualReference WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEmployeeDetail.EmployeeEntryId=HRDataEmployeeEntry.EmployeeEntryId AND BusinessUnit.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND ActualReference.OrganizationId=HRDataEntry.OrganizationId AND ActualReference.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND ActualReference.ParamTypeCode=1 AND HRDataEntry.EntryDate BETWEEN ActualReference.StatementDate AND ActualReference.StatementDate AND ActualReference.Status=1 AND HRDataEntry.EntryDate=? AND HRDataEntry.BusinessCenterId=? GROUP BY BusinessUnitName ORDER BY BusinessUnitName

P1.1and1.2=SELECT COUNT(EmployeeName) AS Resource ,BusinessCenterName FROM HRDataEmployeeEntry,BusinessCenter ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName
P1.3and1.4=SELECT ROUND(SUM(TotalCompensation)/COUNT(EmployeeName),0) AS AvgCost ,BusinessCenterName FROM HRDataEmployeeEntry,BusinessCenter ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName
P1.5=SELECT ROUND(SUM(TotalCompensation)/COUNT(EmployeeName),0) AS AvgCost,"Average Labor Cost" FROM HRDataEmployeeEntry, HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND  HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate=? GROUP BY HRDataEntry.EntryDate ORDER BY HRDataEntry.EntryDate

P2.1and2.2=SELECT COUNT(EmployeeName) AS Resource ,CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation) AS TierDesignation  FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier =HRDataEmployeeEntry.Tier AND HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate=? GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
P2.3and2.4=SELECT ROUND(SUM(TotalFTE)  /(SELECT SUM(TotalFTE) FROM HRDataEmployeeEntry,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND  HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate=?)*100,0) perc ,CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation)  AS TierDesignation FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier=HRDataEmployeeEntry.Tier AND HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate=? GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
P2.5=SELECT ROUND( SUM( TotalFTE ) / (SELECT SUM( TotalFTE ) FROM HRDataEmployeeEntry, HRDataEntry, BusinessCenter b2 WHERE HRDataEntry.EntryId = HRDataEmployeeEntry.EntryId AND b2.BusinessCenterId = HRDataEntry.BusinessCenterId AND HRDataEntry.EntryDate = ? AND b2.BusinessCenterId = b1.BusinessCenterId AND HRDataEmployeeEntry.ProcessId =? ) *100, 0 ) perc,b1.BusinessCenterName FROM HRDataEntry, HRDataEmployeeEntry, BusinessCenter b1 WHERE HRDataEntry.EntryId = HRDataEmployeeEntry.EntryId AND b1.BusinessCenterId = HRDataEntry.BusinessCenterId AND HRDataEntry.EntryDate = ? AND HRDataEmployeeEntry.Tier =3 AND HRDataEmployeeEntry.ProcessId =? GROUP BY b1.BusinessCenterName

S1.1and1.2=SELECT COUNT(EmployeeName) AS Resource ,BusinessCenterName FROM HRDataEmployeeEntry,BusinessCenter ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND HRDataEmployeeEntry.SubProcessId=? AND HRDataEntry.EntryDate=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName
S1.3and1.4=SELECT ROUND(SUM( TotalCompensation ) / SUM( TotalFTE ),0) AvgLabourCost,BusinessCenterName FROM HRDataEntry, HRDataEmployeeEntry,BusinessCenter WHERE HRDataEmployeeEntry.EntryId = HRDataEntry.EntryId AND HRDataEntry.EntryDate = ? and  HRDataEmployeeEntry.SubProcessId=? and BusinessCenter.BusinessCenterId=HRDataEntry.BusinessCenterId GROUP BY BusinessCenterName
S1.5=SELECT ROUND(SUM( TotalCompensation ) / SUM( TotalFTE ) , 0 ) GlobalAvgLabourCost,"Average Labor Cost" FROM HRDataEntry, HRDataEmployeeEntry WHERE HRDataEmployeeEntry.EntryId = HRDataEntry.EntryId AND HRDataEntry.EntryDate = ? AND HRDataEmployeeEntry.SubProcessId =?

S2.1and2.2=SELECT COUNT(EmployeeName) AS Resource ,CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation)  AS TierDesignation  FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier=HRDataEmployeeEntry.Tier AND HRDataEmployeeEntry.SubProcessId=? AND HRDataEntry.EntryDate=? GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
S2.3and2.4=SELECT ROUND( SUM(TotalFTE ) / ( SELECT sum(TotalFTE) FROM HRDataEmployeeEntry, HRDataEntry H11 WHERE H11.EntryId = HRDataEmployeeEntry.EntryId AND HRDataEmployeeEntry.SubProcessId =? AND H11.EntryDate = ? ) *100, 2 ) AS FTEPERC,CONCAT( 'Tier', ' ', HRDataEmployeeEntry.Tier, ' ', TierDesignation.Designation ) AS TierDesignation FROM HRDataEmployeeEntry, HRDataEntry H21, TierDesignation WHERE H21.EntryId = HRDataEmployeeEntry.EntryId AND TierDesignation.Tier = HRDataEmployeeEntry.Tier AND HRDataEmployeeEntry.SubProcessId =? AND H21.EntryDate = ? GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
S2.5=SELECT ROUND(SUM(TotalFTE) /( SELECT SUM(TotalFTE) from HRDataEmployeeEntry H11,HRDataEntry H21 where H11.EntryId=H21.Entryid and H21.EntryDate=?  and H11.SubProcessId=? and H21.BusinessCenterId=H31.BusinessCenterId) *100,0) SpanOfControl,BusinessCenterName FROM HRDataEntry H31, HRDataEmployeeEntry H41 ,BusinessCenter  WHERE H31.EntryId = H41.EntryId and H31.EntryDate = ? and  H41.SubProcessId=? and BusinessCenter.BusinessCenterId=H31.BusinessCenterId and Tier=3 GROUP BY BusinessCenterName

S3.1and3.2=SELECT IFNULL( ROUND( SUM( actualvalue ) / (SELECT SUM( FTE ) FROM HRDataEmployeeDetail WHERE EmployeeEntryId IN (SELECT EmployeeEntryId FROM HRDataEmployeeEntry WHERE EntryId IN (SELECT EntryId FROM HRDataEntry WHERE EntryDate = ? AND HRDataEntry.BusinessCenterId = e21.BusinessCenterId) AND SubProcessId =? ) ) , 0 ) , 0 ) AS AvgVolPerFTE, BusinessCenterName FROM ActualReference, BusinessCenter e21 WHERE ActualReference.Status =1 AND ActualReference.ParamTypeCode =2 AND e21.BusinessCenterId = ActualReference.BusinessCenterId AND ActualReference.StatementDate = ? AND ActualReference.SubProcessId =? GROUP BY BusinessCenterName
#S3.3and3.4=SELECT ROUND(SUM(Cost)/(SELECT SUM(ActualValue) FROM ActualReference  WHERE ActualReference.ParamTypeCode=2 AND ActualReference.SubProcessId=h21.SubProcessId AND ActualReference.StatementDate=h11.EntryDate AND ActualReference.BusinessUnitId=h31.BusinessUnitId AND ActualReference.BusinessCenterId=h11.BusinessCenterId  AND ActualReference.Status=1),2)  AS Avgpersonnelcost, BusinessCenterName FROM HRDataEmployeeDetail h31,HRDataEmployeeEntry h21,HRDataEntry h11,BusinessCenter WHERE  h21.EntryId=h11.EntryId AND h31.EmployeeEntryId= h21.EmployeeEntryId AND BusinessCenter.BusinessCenterId=h11.BusinessCenterId AND h21.SubProcessId=?   AND h11.EntryDate=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName
S3.3and3.4=SELECT ROUND(SUM(Cost)/(SELECT SUM(ActualValue) FROM ActualReference  WHERE ActualReference.ParamTypeCode=2 AND ActualReference.SubProcessId=? AND ActualReference.StatementDate=?  AND ActualReference.BusinessCenterId=h11.BusinessCenterId  AND ActualReference.Status=1) ,2)  AS Avgpersonnelcost, BusinessCenterName FROM HRDataEmployeeDetail h31,HRDataEmployeeEntry h21,HRDataEntry h11,BusinessCenter WHERE  h21.EntryId=h11.EntryId AND h31.EmployeeEntryId= h21.EmployeeEntryId AND BusinessCenter.BusinessCenterId=h11.BusinessCenterId AND h21.SubProcessId=?   AND h11.EntryDate=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName

C1.1bycenter=SELECT ROUND(SUM(Cost)/(SELECT SUM(ActualValue) FROM ActualReference  WHERE ActualReference.ParamTypeCode=2 AND ActualReference.SubProcessId=h21.SubProcessId AND ActualReference.StatementDate=h11.EntryDate AND ActualReference.BusinessUnitId=h31.BusinessUnitId AND ActualReference.BusinessCenterId=h11.BusinessCenterId  AND ActualReference.Status=1),2)  AS Avgpersonnelcost, BusinessCenterName FROM HRDataEmployeeDetail h31,HRDataEmployeeEntry h21,HRDataEntry h11,BusinessCenter WHERE  h21.EntryId=h11.EntryId AND h31.EmployeeEntryId= h21.EmployeeEntryId AND BusinessCenter.BusinessCenterId=h11.BusinessCenterId AND h21.SubProcessId=?   AND h11.EntryDate=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName
C1.2bycenter=SELECT IFNULL( ROUND( SUM( actualvalue ) / (SELECT SUM( FTE ) FROM HRDataEmployeeDetail WHERE EmployeeEntryId IN (SELECT EmployeeEntryId FROM HRDataEmployeeEntry WHERE EntryId IN (SELECT EntryId FROM HRDataEntry WHERE EntryDate = ? AND HRDataEntry.BusinessCenterId = e21.BusinessCenterId) AND SubProcessId =? ) ) , 0 ) , 0 ) AS AvgVolPerFTE, BusinessCenterName FROM ActualReference, BusinessCenter e21 WHERE ActualReference.Status =1 AND ActualReference.ParamTypeCode =2 AND e21.BusinessCenterId = ActualReference.BusinessCenterId AND ActualReference.StatementDate = ? AND ActualReference.SubProcessId =? GROUP BY BusinessCenterName
C1.3bycenter=SELECT ROUND(SUM( TotalCompensation ) / SUM( TotalFTE ),0) AvgLabourCost,BusinessCenterName FROM HRDataEntry, HRDataEmployeeEntry,BusinessCenter WHERE HRDataEmployeeEntry.EntryId = HRDataEntry.EntryId AND HRDataEntry.EntryDate = ? and  HRDataEmployeeEntry.SubProcessId=? and BusinessCenter.BusinessCenterId=HRDataEntry.BusinessCenterId GROUP BY BusinessCenterName
C1.4bycenter=SELECT ROUND(SUM(TotalFTE) /( SELECT SUM(TotalFTE) from HRDataEmployeeEntry H11,HRDataEntry H21 where H11.EntryId=H21.Entryid and H21.EntryDate=?  and H11.SubProcessId=? and H21.BusinessCenterId=H31.BusinessCenterId) *100,0) SpanOfControl,BusinessCenterName FROM HRDataEntry H31, HRDataEmployeeEntry H41 ,BusinessCenter  WHERE H31.EntryId = H41.EntryId and H31.EntryDate = ? and  H41.SubProcessId=? and BusinessCenter.BusinessCenterId=H31.BusinessCenterId and Tier=3 GROUP BY BusinessCenterName
C1.5to1.nbycenter=SELECT ROUND(SUM(IFNULL(CenterAverage,0)),2),BusinessCenterName FROM KPICenterAverage,BusinessCenter WHERE KPICenterAverage.BusinessCenterId=BusinessCenter.BusinessCenterId AND KPICenterAverage.StatementDate=? AND KPICenterAverage.SubProcessId=? AND KPICenterAverage.KPIId=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName

C1.1byclient=SELECT ROUND(SUM(Cost)/ (SELECT SUM(ActualValue) FROM ActualReference  WHERE ActualReference.ParamTypeCode=2 AND ActualReference.SubProcessId=h21.SubProcessId AND ActualReference.StatementDate=h11.EntryDate AND ActualReference.BusinessUnitId=h31.BusinessUnitId AND ActualReference.BusinessCenterId=h11.BusinessCenterId  AND ActualReference.Status=1),2)  AS Avgpersonnelcost, BusinessUnitName FROM HRDataEmployeeDetail h31,HRDataEmployeeEntry h21,HRDataEntry h11,BusinessUnit WHERE  h21.EntryId=h11.EntryId AND h31.EmployeeEntryId= h21.EmployeeEntryId AND BusinessUnit.BusinessUnitId=h31.BusinessUnitId AND h21.SubProcessId=?   AND h11.EntryDate=? AND h11.BusinessCenterId=?  GROUP BY BusinessUnitName ORDER BY BusinessUnitName
C1.2byclient=SELECT ROUND(ActualValue/SUM(FTE),0) AS VolumePerFTE, BusinessUnitName FROM ActualReference,HRDataEmployeeDetail,HRDataEmployeeEntry,HRDataEntry,BusinessUnit WHERE ActualReference.ParamTypeCode=2 and ActualReference.SubProcessId=HRDataEmployeeEntry.SubProcessId AND ActualReference.StatementDate=HRDataEntry.EntryDate and ActualReference.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND ActualReference.BusinessCenterId=HRDataEntry.BusinessCenterId AND ActualReference.Status=1 AND HRDataEmployeeEntry.EntryId=HRDataEntry.EntryId AND HRDataEmployeeDetail.EmployeeEntryId= HRDataEmployeeEntry.EmployeeEntryId AND BusinessUnit.BusinessUnitId=ActualReference.BusinessUnitId AND HRDataEmployeeEntry.SubProcessId=? AND HRDataEntry.EntryDate=? AND HRDataEntry.BusinessCenterId=?  GROUP BY BusinessUnitName ORDER BY BusinessUnitName
C1.5to1.nbyclient=SELECT ROUND(SUM(IFNULL(KPIScore,0)),2),BusinessUnitName FROM KPIScore,BusinessUnit WHERE KPIScore.BusinessUnitId=BusinessUnit.BusinessUnitId AND KPIScore.StatementDate=? AND KPIScore.SubProcessId=? AND KPIScore.KPIId=? AND KPIScore.BusinessCenterId=? GROUP BY BusinessUnitName ORDER BY BusinessUnitName

queryFromDB=SELECT querytext FROM graphtable WHERE id=?
getQueryParams=SELECT paramname FROM graphparams WHERE graphid=?

#landingdashboard.data1=SELECT CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation)  AS TierDesignation, ROUND(COUNT(EmployeeName) /(SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.EntryDate=(SELECT DISTINCT MAX(EntryDate) FROM HRDataEntry) )*100,0) perc FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier=HRDataEmployeeEntry.Tier AND HRDataEmployeeEntry.Tier =3 AND HRDataEntry.EntryDate=(SELECT DISTINCT MAX(EntryDate) FROM HRDataEntry)
landingdashboard.data1=SELECT IFNULL(ROUND(COUNT(EmployeeName) /(SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.EntryDate=(SELECT DISTINCT MAX(EntryDate) FROM HRDataEntry) )*100,0),0) perc FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier=HRDataEmployeeEntry.Tier AND HRDataEmployeeEntry.Tier =3 AND HRDataEntry.EntryDate=(SELECT DISTINCT MAX(EntryDate) FROM HRDataEntry)
landingdashboard.data2=SELECT IFNULL(ROUND(SUM(TotalCompensation)/SUM(TotalFTE),0),0) AS AvgCostPerFTE FROM HRDataEmployeeEntry,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.EntryDate=?

landingdashboard.data3=SELECT IFNULL(SUM(ActualValue),0) FROM ActualReference  WHERE ActualReference.ParamTypeCode=2 AND ActualReference.SubProcessId=10 AND ActualReference.StatementDate=?  AND ActualReference.Status=1 
landingdashboard.data4=SELECT IFNULL(ROUND(SUM(Cost)/(SELECT SUM(ActualValue) FROM ActualReference  WHERE ActualReference.ParamTypeCode=2 AND ActualReference.SubProcessId=10 AND  ActualReference.StatementDate=? AND ActualReference.Status=1 ),2),0)  AS Avgpersonnelcost FROM HRDataEmployeeDetail h31,HRDataEmployeeEntry h21,HRDataEntry h11 WHERE  h21.EntryId=h11.EntryId AND h31.EmployeeEntryId= h21.EmployeeEntryId AND h21.SubProcessId=10   AND h11.EntryDate=?
landingdashboard.data5=SELECT IFNULL(SUM(ActualValue),0) FROM ActualReference  WHERE ActualReference.ParamTypeCode=2 AND ActualReference.SubProcessId=4 AND ActualReference.StatementDate=?  AND ActualReference.Status=1 
landingdashboard.data6=SELECT IFNULL(ROUND(SUM(Cost)/(SELECT SUM(ActualValue) FROM ActualReference  WHERE ActualReference.ParamTypeCode=2 AND ActualReference.SubProcessId=4 AND ActualReference.StatementDate=? AND ActualReference.Status=1 ),2),0)  AS Avgpersonnelcost FROM HRDataEmployeeDetail h31,HRDataEmployeeEntry h21,HRDataEntry h11 WHERE  h21.EntryId=h11.EntryId AND h31.EmployeeEntryId= h21.EmployeeEntryId AND h21.SubProcessId=4   AND h11.EntryDate=?
landingdashboard.data7=SELECT IFNULL(SUM(ActualValue),0) FROM ActualReference  WHERE ActualReference.ParamTypeCode=2 AND ActualReference.SubProcessId=15 AND ActualReference.StatementDate=?  AND ActualReference.Status=1 
landingdashboard.data8=SELECT IFNULL(ROUND(SUM(Cost)/(SELECT SUM(ActualValue) FROM ActualReference  WHERE ActualReference.ParamTypeCode=2 AND ActualReference.SubProcessId=15 AND ActualReference.StatementDate=? AND ActualReference.Status=1 ),2),0)  AS Avgpersonnelcost FROM HRDataEmployeeDetail h31,HRDataEmployeeEntry h21,HRDataEntry h11 WHERE  h21.EntryId=h11.EntryId AND h31.EmployeeEntryId= h21.EmployeeEntryId AND h21.SubProcessId=15   AND h11.EntryDate=?
landingdashboard.data9=SELECT IFNULL(COUNT(EmployeeName),0) FROM HRDataEmployeeEntry WHERE EntryId IN (SELECT EntryId FROM HRDataEntry WHERE EntryDate=?)

dashboard.locationprocbenchmark3.2low=SELECT LowValue,BusinessCenterName,TopValue,MedianValue FROM  HRDataEmployeeEntry,HRDataEntry,BusinessCenter,BenchMark,HRDataEmployeeDetail,ProcessTarget WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEmployeeDetail.EmployeeEntryid=HRDataEmployeeEntry.EmployeeEntryid AND BusinessCenter.BusinessCenterId=HRDataEntry.BusinessCenterId AND BenchMark.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND BenchMark.ProcessId=HRDataEmployeeEntry.ProcessId AND BenchMark.SubProcessId=HRDataEmployeeEntry.SubProcessId AND BenchMark.BusinessCenterId=HRDataEntry.BusinessCenterId AND BenchMark.ParamTypeCode =? AND HRDataEntry.EntryDate BETWEEN BenchMark.FromDate AND BenchMark.ToDate AND ProcessTarget.ProcessId=HRDataEmployeeEntry.ProcessId AND HRDataEntry.EntryDate BETWEEN ProcessTarget.FromDate AND ProcessTarget.ToDate AND ProcessTarget.TargetStatus=? AND HRDataEntry.EntryDate=? AND HRDataEmployeeEntry.ProcessId=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName
dashboard.locationprocbenchmark3.2median=SELECT MedianValue,BusinessCenterName,TopValue,LowValue FROM  HRDataEmployeeEntry,HRDataEntry,BusinessCenter,BenchMark,HRDataEmployeeDetail,ProcessTarget WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEmployeeDetail.EmployeeEntryid=HRDataEmployeeEntry.EmployeeEntryid AND BusinessCenter.BusinessCenterId=HRDataEntry.BusinessCenterId AND BenchMark.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND BenchMark.ProcessId=HRDataEmployeeEntry.ProcessId AND BenchMark.SubProcessId=HRDataEmployeeEntry.SubProcessId AND BenchMark.BusinessCenterId=HRDataEntry.BusinessCenterId AND BenchMark.ParamTypeCode =? AND HRDataEntry.EntryDate BETWEEN BenchMark.FromDate AND BenchMark.ToDate AND ProcessTarget.ProcessId=HRDataEmployeeEntry.ProcessId AND HRDataEntry.EntryDate BETWEEN ProcessTarget.FromDate AND ProcessTarget.ToDate AND ProcessTarget.TargetStatus=? AND HRDataEntry.EntryDate=? AND HRDataEmployeeEntry.ProcessId=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName
dashboard.locationprocbenchmark3.2high=SELECT TopValue,BusinessCenterName,LowValue,MedianValue FROM  HRDataEmployeeEntry,HRDataEntry,BusinessCenter,BenchMark,HRDataEmployeeDetail,ProcessTarget WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEmployeeDetail.EmployeeEntryid=HRDataEmployeeEntry.EmployeeEntryid AND BusinessCenter.BusinessCenterId=HRDataEntry.BusinessCenterId AND BenchMark.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND BenchMark.ProcessId=HRDataEmployeeEntry.ProcessId AND BenchMark.SubProcessId=HRDataEmployeeEntry.SubProcessId AND BenchMark.BusinessCenterId=HRDataEntry.BusinessCenterId AND BenchMark.ParamTypeCode =? AND HRDataEntry.EntryDate BETWEEN BenchMark.FromDate AND BenchMark.ToDate AND ProcessTarget.ProcessId=HRDataEmployeeEntry.ProcessId AND HRDataEntry.EntryDate BETWEEN ProcessTarget.FromDate AND ProcessTarget.ToDate AND ProcessTarget.TargetStatus=? AND HRDataEntry.EntryDate=? AND HRDataEmployeeEntry.ProcessId=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName

dashboard.locationprocbenchmark3.4low=SELECT LowValue,BusinessCenterName ,TopValue,MedianValue FROM HRDataEmployeeEntry,HRDataEntry,BusinessCenter,BenchMark,HRDataEmployeeDetail WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEmployeeDetail.EmployeeEntryid=HRDataEmployeeEntry.EmployeeEntryid AND BusinessCenter.BusinessCenterId=HRDataEntry.BusinessCenterId AND BenchMark.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND BenchMark.ProcessId=HRDataEmployeeEntry.ProcessId AND BenchMark.SubProcessId=HRDataEmployeeEntry.SubProcessId AND BenchMark.ParamTypeCode =? AND BenchMark.Status =1 AND HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate BETWEEN BenchMark.FromDate AND BenchMark.ToDate AND HRDataEntry.EntryDate=? GROUP BY BusinessCenterName ORDER BY BusinessCentername
dashboard.locationprocbenchmark3.4median=SELECT MedianValue,BusinessCenterName ,TopValue,LowValue FROM HRDataEmployeeEntry,HRDataEntry,BusinessCenter,BenchMark,HRDataEmployeeDetail WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEmployeeDetail.EmployeeEntryid=HRDataEmployeeEntry.EmployeeEntryid AND BusinessCenter.BusinessCenterId=HRDataEntry.BusinessCenterId AND BenchMark.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND BenchMark.ProcessId=HRDataEmployeeEntry.ProcessId AND BenchMark.SubProcessId=HRDataEmployeeEntry.SubProcessId AND BenchMark.ParamTypeCode =? AND BenchMark.Status =1 AND HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate BETWEEN BenchMark.FromDate AND BenchMark.ToDate AND HRDataEntry.EntryDate=? GROUP BY BusinessCenterName ORDER BY BusinessCentername
dashboard.locationprocbenchmark3.4high=SELECT TopValue,BusinessCenterName ,LowValue,MedianValue FROM HRDataEmployeeEntry,HRDataEntry,BusinessCenter,BenchMark,HRDataEmployeeDetail WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEmployeeDetail.EmployeeEntryid=HRDataEmployeeEntry.EmployeeEntryid AND BusinessCenter.BusinessCenterId=HRDataEntry.BusinessCenterId AND BenchMark.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND BenchMark.ProcessId=HRDataEmployeeEntry.ProcessId AND BenchMark.SubProcessId=HRDataEmployeeEntry.SubProcessId AND BenchMark.ParamTypeCode =? AND BenchMark.Status =1 AND HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate BETWEEN BenchMark.FromDate AND BenchMark.ToDate AND HRDataEntry.EntryDate=? GROUP BY BusinessCenterName ORDER BY BusinessCentername

dashboard.subprocessbenchmark3.1low=SELECT LowValue,BusinessCenterName,TopValue,MedianValue,Target FROM HRDataEmployeeEntry,HRDataEntry,BusinessCenter,BenchMark,HRDataEmployeeDetail,SubProcessTarget WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEmployeeDetail.EmployeeEntryid=HRDataEmployeeEntry.EmployeeEntryid AND HRDataEmployeeEntry.SubProcessId=? AND BusinessCenter.BusinessCenterId=HRDataEntry.BusinessCenterId AND BenchMark.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND BenchMark.ProcessId=HRDataEmployeeEntry.ProcessId AND BenchMark.SubProcessId=HRDataEmployeeEntry.SubProcessId AND BenchMark.BusinessCenterId=HRDataEntry.BusinessCenterId AND BenchMark.ParamTypeCode =? AND HRDataEntry.EntryDate BETWEEN BenchMark.FromDate AND BenchMark.ToDate AND SubProcessTarget.SubProcessId=HRDataEmployeeEntry.SubProcessId AND HRDataEntry.EntryDate BETWEEN SubProcessTarget.FromDate AND SubProcessTarget.ToDate AND TargetStatus =1 AND HRDataEntry.EntryDate=? AND HRDataEmployeeEntry.ProcessId=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName
dashboard.subprocessbenchmark3.1lmedian=SELECT MedianValue,BusinessCenterName,TopValue,LowValue,Target FROM HRDataEmployeeEntry,HRDataEntry,BusinessCenter,BenchMark,HRDataEmployeeDetail,SubProcessTarget WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEmployeeDetail.EmployeeEntryid=HRDataEmployeeEntry.EmployeeEntryid AND HRDataEmployeeEntry.SubProcessId=? AND BusinessCenter.BusinessCenterId=HRDataEntry.BusinessCenterId AND BenchMark.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND BenchMark.ProcessId=HRDataEmployeeEntry.ProcessId AND BenchMark.SubProcessId=HRDataEmployeeEntry.SubProcessId AND BenchMark.BusinessCenterId=HRDataEntry.BusinessCenterId AND BenchMark.ParamTypeCode =? AND HRDataEntry.EntryDate BETWEEN BenchMark.FromDate AND BenchMark.ToDate AND SubProcessTarget.SubProcessId=HRDataEmployeeEntry.SubProcessId AND HRDataEntry.EntryDate BETWEEN SubProcessTarget.FromDate AND SubProcessTarget.ToDate AND TargetStatus =1 AND HRDataEntry.EntryDate=? AND HRDataEmployeeEntry.ProcessId=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName
dashboard.subprocessbenchmark3.1high=SELECT TopValue,BusinessCenterName,MedianValue,LowValue,Target FROM HRDataEmployeeEntry,HRDataEntry,BusinessCenter,BenchMark,HRDataEmployeeDetail,SubProcessTarget WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEmployeeDetail.EmployeeEntryid=HRDataEmployeeEntry.EmployeeEntryid AND HRDataEmployeeEntry.SubProcessId=? AND BusinessCenter.BusinessCenterId=HRDataEntry.BusinessCenterId AND BenchMark.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND BenchMark.ProcessId=HRDataEmployeeEntry.ProcessId AND BenchMark.SubProcessId=HRDataEmployeeEntry.SubProcessId AND BenchMark.BusinessCenterId=HRDataEntry.BusinessCenterId AND BenchMark.ParamTypeCode =? AND HRDataEntry.EntryDate BETWEEN BenchMark.FromDate AND BenchMark.ToDate AND SubProcessTarget.SubProcessId=HRDataEmployeeEntry.SubProcessId AND HRDataEntry.EntryDate BETWEEN SubProcessTarget.FromDate AND SubProcessTarget.ToDate AND TargetStatus =1 AND HRDataEntry.EntryDate=? AND HRDataEmployeeEntry.ProcessId=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName

##################Dashboard Queries############################

process.getprocesses=SELECT ProcessId,ProcessName FROM Process WHERE ProcessStatus=1 ORDER BY ProcessNAME ASC
process.getprocessesbyOrg=SELECT ProcessId,ProcessName FROM Process WHERE OrganizationId=? ORDER BY ProcessName ASC
process.getprocessesnames=SELECT ProcessId,ProcessName FROM Process
process.saveProcess=INSERT INTO Process ( ProcessName, ShortName, OrganizationId, ProcessStatus) VALUES ( ?, ?, ?, ?)
process.getprocessview=SELECT * FROM Process WHERE ProcessId=?
process.updateProcess=UPDATE Process SET  ProcessName = ? ,  ProcessStatus = ? WHERE ProcessId = ? 
process.saveSubProcess=INSERT INTO SubProcess ( ProcessId, SubProcessName, ShortName, SubProcessStatus) VALUES ( ?, ?, ?, ?)
process.getSubProcess=SELECT sp.SubProcessId,sp.ProcessId,sp.SubProcessName,sp.ShortName,sp.SubProcessStatus,sp.UsedForVolume,pr.ProcessName FROM SubProcess sp JOIN Process pr ON pr.ProcessId=sp.ProcessId WHERE SubProcessId=?
process.updateSubProcess=UPDATE SubProcess SET ProcessId = ? , SubProcessName = ? , ShortName = ? , SubProcessStatus = ? WHERE SubProcessId = ?
process.getsubprocesses=SELECT SubProcessId,SubProcessName FROM SubProcess WHERE ProcessId=? AND SubProcessStatus=1
process.getsubprocessesbyOrg=SELECT SubProcess.SubProcessId,SubProcess.SubProcessName FROM SubProcess WHERE SubProcess.ProcessId IN (SELECT Process.ProcessId FROM Process WHERE Process.OrganizationId=?)
process.getByName=SELECT * FROM Process WHERE ProcessName=?
process.getAllProcess=SELECT * FROM Process WHERE OrganizationId=?

subprocess.getlist=SELECT SubProcessId,SubProcessName FROM SubProcess WHERE SubProcessStatus=1
subprocess.getnames=SELECT SubProcessId,SubProcessName FROM SubProcess WHERE ProcessId=? AND SubProcessStatus=1
subprocess.edit=UPDATE SubProcess SET ProcessId=?,SubProcessName=?,ShortName=?,SubProcessStatus=?,UsedForVolume=? WHERE SubProcessId=?
subprocess.insert=INSERT INTO SubProcess (ProcessId,SubProcessName,ShortName,SubProcessStatus,UsedForVolume)VALUES(?,?,?,?,?)
subprocess.getlist_forvolume=SELECT SubProcessId,CONCAT(SUBSTRING(SubProcessName,1,20),'...') FROM SubProcess WHERE UsedForVolume=1
subprocess.getbyvolume=SELECT SubProcessId,SubProcessName FROM SubProcess WHERE UsedForVolume=1
subprocess.getByname=SELECT * FROM SubProcess WHERE SubProcessName=?
subprocess.getAllSubProcess=SELECT sp.SubProcessId, sp.ProcessId,sp.SubProcessName,sp.SubProcessStatus,pr.ProcessName FROM SubProcess sp JOIN Process pr ON pr.ProcessId=sp.ProcessId 
subprocess.getdata=SELECT * FROM SubProcess WHERE SubProcessId=?

######################Location##############################
location.getlocations=SELECT BusinessCenterId,BusinessCenterName FROM BusinessCenter ORDER BY BusinessCenterName ASC
location.getlocationsbyOrg=SELECT BusinessCenterId,BusinessCenterName FROM BusinessCenter  WHERE OrganizationId=? ORDER BY BusinessCenterName ASC
location.getlocationview=SELECT * FROM BusinessCenter WHERE BusinessCenterId=?
location.updatelocation=UPDATE BusinessCenter SET  CountryId = ? , City = ? , BusinessCenterName = ? , ShortName = ? , OrganizationId = ? WHERE BusinessCenterId = ? 
location.getbusiness=SELECT BusinessId,BusinessName FROM Business WHERE BusinessStatus=1
location.insertLocationbusiness=INSERT INTO BusinessCenterBusiness (BusinessCenterId, BusinessId) VALUES (?, ?)
location.getlocationviewbusiness=SELECT * FROM BusinessCenterBusiness WHERE BusinessCenterId=? 
location.deletebusiness=Delete from BusinessCenterBusiness where BusinessCenterId=?
location.getbusinesses=SELECT * FROM BusinessCenterBusiness WHERE BusinessCenterId=?
location.insertLocation=INSERT INTO BusinessCenter (CountryId,City, BusinessCenterName, ShortName, OrganizationId) VALUES (?, ?, ?, ?, ?)
location.getmaxid=SELECT MAX(BusinessCenterId) FROM BusinessCenter
location.getByName=SELECT * FROM BusinessCenter WHERE BusinessCenterName=?
location.getclientlist=SELECT BusinessUnitId FROM BusinessCenterBusinessUnit WHERE BusinessCenterId=?
#location.getlocations=SELECT LocationId,Name FROM Location  ORDER BY NAME ASC

search.organizationlist=SELECT org.OrganizationName,org.OrganizationId,stat.StatusName FROM  Organization org JOIN Status  stat ON org.OrganizationStatus=stat.StatusId WHERE org.OrganizationName=? AND stat.StatusId=?
search.locationlist=SELECT BusinessCenterId,BusinessCenterName FROM BusinessCenter WHERE BusinessCenterName LIKE ?
search.processlist=SELECT pro.ProcessName,pro.ProcessId,stat.StatusName FROM  Process pro JOIN Status  stat ON pro.ProcessStatus=stat.StatusId WHERE pro.ProcessName=? and pro.ProcessStatus=?
search.subprocesslist=SELECT pro.SubProcessName,pro.SubProcessId,stat.StatusName FROM  SubProcess pro JOIN Status  stat ON pro.SubProcessStatus=stat.StatusId WHERE pro.SubProcessName=? and pro.SubProcessStatus=?
#search.userlist=SELECT UserId,UserName,StatusName FROM User us LEFT JOIN Status stat ON us.UserStatus=stat.StatusId WHERE UserName LIKE ? 
search.userlist=SELECT UserId,UserName,StatusName,Description FROM User us LEFT JOIN Status stat ON us.UserStatus=stat.StatusId LEFT JOIN UserGroup ug ON ug.UserGroupId=us.UserLevel WHERE us.OrganizationId=? AND us.UserName LIKE ? ORDER BY us.UserName ASC
search.alluserlist=SELECT UserId,UserName,StatusName,Description FROM User us LEFT JOIN Status stat ON us.UserStatus=stat.StatusId LEFT JOIN UserGroup ug ON ug.UserGroupId=us.UserLevel WHERE us.OrganizationId=? ORDER BY us.UserName ASC
search.userlist_byuserlevel=SELECT UserId,UserName,StatusName,Description FROM User us LEFT JOIN Status stat ON us.UserStatus=stat.StatusId LEFT JOIN UserGroup ug ON ug.UserGroupId=us.UserLevel WHERE us.OrganizationId=? AND us.UserLevel=? ORDER BY us.UserName ASC
search.usergrouplist=SELECT UserGroupId,Description,StatusName FROM UserGroup ug,Status su WHERE Description=? AND UGStatus=? AND su.StatusId=ug.UserGroupId
search.businessdata=SELECT BusinessId,BusinessName,StatusName FROM Business bu ,Status su WHERE BusinessId=? AND bu.BusinessStatus=su.StatusId
search.businessunitdata=SELECT BusinessUnitId,BusinessUnitName,BusinessName FROM Business bs ,BusinessUnit bu WHERE BusinessUnitName=? AND bs.BusinessId=? AND bs.BusinessId=bu.BusinessId
search.subunitdata=SELECT SubBusinessUnitId,SubBusinessUnitName,BusinessUnitName FROM SubBusinessUnit su,BusinessUnit bu WHERE SubBusinessUnitName=? AND su.BusinessUnitId=? AND su.BusinessUnitId=bu.BusinessUnitId
#search.hrdatalist=SELECT EntryId,EmployeeName,EmployeeType.Description,ProcessName,SubProcessName,Grade,Tier,TotalFTE,TotalCompensation,HRDataEmployeeEntry.EmployeeEntryId FROM HRDataEmployeeEntry,EmployeeType,Process,SubProcess WHERE HRDataEmployeeEntry.EntryId IN (SELECT EntryId FROM HRDataEntry  WHERE OrganizationId=? AND BusinessCenterId =? AND EntryDate =?) AND Process.ProcessId=HRDataEmployeeEntry.ProcessId AND SubProcess.SubProcessId=HRDataEmployeeEntry.SubProcessId AND EmployeeType.EmployeeTypeId=HRDataEmployeeEntry.EmployeeTypeId
search.hrdatalist=SELECT DISTINCT EntryId,EmployeeName,EmployeeType.Description,ProcessName,SubProcessName,Grade,Tier,BusinessUnitName,FTE,Cost,HRDataEmployeeEntry.EmployeeEntryId FROM HRDataEmployeeEntry,EmployeeType,Process,SubProcess,BusinessUnit,HRDataEmployeeDetail WHERE HRDataEmployeeEntry.EntryId IN (SELECT EntryId FROM HRDataEntry   WHERE OrganizationId=?  AND BusinessCenterId =? AND EntryDate =?) AND Process.ProcessId=HRDataEmployeeEntry.ProcessId AND SubProcess.SubProcessId=HRDataEmployeeEntry.SubProcessId AND EmployeeType.EmployeeTypeId=HRDataEmployeeEntry.EmployeeTypeId AND HRDataEmployeeDetail.EmployeeEntryId=HRDataEmployeeEntry.EmployeeEntryId AND BusinessUnit.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId ORDER BY EmployeeName
search.hrdatareport=SELECT DISTINCT EntryId,EmployeeName,EmployeeType.Description,ProcessName,SubProcessName,Grade,Tier,BusinessUnitName,FTE,Cost,HRDataEmployeeEntry.EmployeeEntryId FROM HRDataEmployeeEntry,EmployeeType,Process,SubProcess,BusinessUnit,HRDataEmployeeDetail WHERE HRDataEmployeeEntry.EntryId IN (SELECT EntryId FROM HRDataEntry   WHERE OrganizationId=?) AND Process.ProcessId=HRDataEmployeeEntry.ProcessId AND SubProcess.SubProcessId=HRDataEmployeeEntry.SubProcessId AND EmployeeType.EmployeeTypeId=HRDataEmployeeEntry.EmployeeTypeId AND HRDataEmployeeDetail.EmployeeEntryId=HRDataEmployeeEntry.EmployeeEntryId AND BusinessUnit.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId ORDER BY EmployeeName
#########################    Tier   ##################
search.tierlist=SELECT * FROM TierDesignation
tiertarget.getyear=SELECT DISTINCT Year(FromDate) from TierTarget union SELECT DISTINCT Year(ToDate) from TierTarget
tier.getdetails=SELECT * FROM TierDesignation WHERE Tier=?
tier.addquery=INSERT INTO TierDesignation (Designation,Tier)VALUES(?,?)
tier.editquery=UPDATE TierDesignation SET Designation=? WHERE Tier LIKE ?
tier.getlist=SELECT * FROM TierDesignation
tier.searchtarget=select FromDate,ToDate,Target,TierTargetId,ti.Tier,Designation FROM TierTarget ti ,TierDesignation td WHERE ? BETWEEN DATE_FORMAT(FromDate, '%Y%m')AND DATE_FORMAT(ToDate, '%Y%m') AND ti.Tier=td.Tier
tiretarget.add=INSERT INTO TierTarget (FromDate,ToDate,Tier,Target,TargetStatus) values(?,?,?,?,?)
tiertarget.getlist=SELECT * FROM TierTarget WHERE TierTargetId LIKE ?
tiertarget.update=UPDATE TierTarget SET FromDate=?,ToDate=?,Tier=?,Target=?,TargetStatus=? WHERE TierTargetId=?
tierprocess.addquery=INSERT INTO TierProcessTarget (FromDate,ToDate,Tier,ProcessId,Target,TargetStatus)VALUES(?,?,?,?,?,?)
tierprocess.getlist=SELECT FromDate,ToDate,Target,ProcessName,Designation,TierProcessTargetId FROM TierDesignation td, Process ps,TierProcessTarget tp WHERE td.Tier=tp.Tier AND ps.ProcessId=tp.ProcessId AND ? BETWEEN DATE_FORMAT(FromDate, '%Y%m')AND DATE_FORMAT(ToDate, '%Y%m')
tierprocess.getdetails=SELECT FromDate,ToDate,Tier,ProcessId,Target,TargetStatus FROM TierProcessTarget WHERE TierProcessTargetId=?
tierprocess.update=UPDATE TierProcessTarget SET FromDate=?,ToDate=?,Tier=?,ProcessId=?,Target=?,TargetStatus=? WHERE TierProcessTargetId=?
tierprocesstarget.getyear=SELECT DISTINCT Year(FromDate) from TierProcessTarget union SELECT DISTINCT Year(ToDate) from TierProcessTarget
#######################SupProcessTarget##################################
supprocesstarget.addquery=INSERT INTO SubProcessTarget(FromDate,ToDate,SubProcessId,Target,TargetStatus)values(?,?,?,?,?)
subprocesstarget.getlist=SELECT FromDate,ToDate,Target,sp.SubProcessName,SubProcessTargetId From SubProcessTarget spt,SubProcess sp WHERE FromDate=? AND ToDate=? AND spt.SubProcessId=? AND spt.SubProcessId=sp.SubProcessId
supprocess.getdata=SELECT FromDate,ToDate,SubProcessId,Target,TargetStatus FROM SubProcessTarget WHERE SubProcessTargetId=?
subprocesstarget.update=UPDATE SubProcessTarget SET FromDate=?,ToDate=?,SubProcessId=?,Target=?,TargetStatus=? WHERE SubProcessTargetId=?


### Common Dropdown Populate ####
businesslistByOrgId=SELECT BusinessId,BusinessName FROM Business WHERE OrganizationId=?
businessunitlistByOrgId=SELECT BusinessUnitId,BusinessUnitName FROM BusinessUnit WHERE BusinessId=?
businessunitlist=SELECT BusinessUnitId,BusinessUnitName FROM BusinessUnit
businesscenterlistByOrgId=SELECT bc.BusinessCenterId,bc.BusinessCenterName FROM BusinessCenter bc JOIN BusinessCenterBusiness bub ON bub.BusinessCenterId=bc.BusinessCenterId WHERE bub.BusinessId=? AND OrganizationId=?
processlistByOrgId=SELECT ProcessId,ProcessName FROM Process WHERE OrganizationId=?
activebusinesslistByOrgId=SELECT BusinessId,BusinessName FROM Business WHERE OrganizationId=? AND BusinessStatus=?
activebusinessunitlistByOrgId=SELECT BusinessUnitId,BusinessUnitName FROM BusinessUnit WHERE BusinessId=? AND BusinessUnitStatus=?
activeprocesslistByOrgId=SELECT ProcessId,ProcessName FROM Process WHERE OrganizationId=? AND ProcessStatus=?
status.getstatuses=SELECT StatusId,StatusName FROM Status
statementdate.dropdown=SELECT DATE_FORMAT(EntryDate,'%m-%d-%Y'),DATE_FORMAT(EntryDate,'%Y-%m-%d') FROM StatementEntry WHERE EntryStatus=1 ORDER BY EntryDate DESC
statement.getclosedates=SELECT EntryDate FROM StatementEntry WHERE EntryStatus=2 ORDER BY EntryDate DESC
statement.getopendates=SELECT EntryDate FROM StatementEntry WHERE EntryStatus=1 ORDER BY EntryDate DESC
statement.insert=INSERT INTO StatementEntry VALUES(?,?)
statement.reopen=UPDATE StatementEntry SET EntryStatus=1 WHERE EntryDate=?
statement.close=UPDATE StatementEntry SET EntryStatus=2 WHERE EntryDate=?
statement.checkdate=SELECT * FROM StatementEntry WHERE EntryDate=?

#### BenchMark ####
benchmark.getbenchmarkList=SELECT BenchMarkId,des.Description,bus.BusinessName,busut.BusinessUnitName,bm.BenchMarkId,bctr.BusinessCenterName FROM BenchMark bm JOIN ParamType des ON des.ParamTypeId=bm.ParamTypeCode JOIN Business bus ON bm.BusinessId=bus.BusinessId JOIN BusinessUnit busut ON bm.BusinessUnitId=busut.BusinessUnitId JOIN BusinessCenter bctr ON bm.BusinessCenterId=bctr.BusinessCenterId WHERE bm.ParamTypeCode=? AND bm.BusinessId=? AND bm.BusinessUnitId=? AND bm.BusinessCenterId=? AND ? BETWEEN DATE_FORMAT(FromDate, '%Y%m')AND DATE_FORMAT(ToDate, '%Y%m')
benchmark.delete=UPDATE BenchMark SET Status='3' WHERE BenchMarkId=?
benchmark.insert=INSERT INTO BenchMark (BusinessId, BusinessUnitId, ProcessId,SubProcessId, BusinessCenterId, FromDate, ToDate, ParamTypeCode, TopValue, MedianValue, LowValue,Status) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?,?,?)
benchmark.edit=UPDATE BenchMark SET BusinessId = ? , BusinessUnitId = ? , BusinessCenterId=? , ProcessId = ? , SubProcessId = ? , ParamTypeCode = ? , TopValue = ? , MedianValue = ? , LowValue = ? , Status = ? WHERE BenchMarkId = ?
benchmark.search=SELECT bus.BusinessName,busut.BusinessUnitName,pro.ProcessName,bm.BenchMarkId FROM BenchMark bm  JOIN Business bus ON bm.BusinessId=bus.BusinessId JOIN BusinessUnit busut ON bm.BusinessUnitId=busut.BusinessUnitId JOIN Process pro ON bm.ProcessId=pro.ProcessId
benchmark.getbenchmarkdata=SELECT * FROM BenchMark WHERE BenchMarkId=?
benchmark.getyear=SELECT DISTINCT Year(FromDate) from BenchMark union SELECT DISTINCT Year(ToDate) from BenchMark
paramtype.getname=SELECT ParamTypeId,Description FROM ParamType

##########  ActualReference  ########
actualreference.delete=DELETE FROM ActualReference WHERE BusinessCenterId=? AND StatementDate=? AND ParamTypeCode=?
#actualreference.insert=INSERT INTO ActualReference (OrganizationId,BusinessUnitId,BusinessCenterId,SubProcessId,StatementDate,ParamTypeCode,ActualValue,Status) VALUES (?,?,?,?,?,?,?,?)
actualreference.insert=INSERT INTO ActualReference (OrganizationId,BusinessUnitId,BusinessCenterId,SubProcessId,StatementDate,ParamTypeCode,ActualValue,Status,VolumeDescId) VALUES (?,?,?,?,?,?,?,?,?)
actualreference.getdata=SELECT * FROM ActualReference WHERE ActualReferenceId=?
actualreference.update=UPDATE ActualReference SET ActualValue = ?,VolumeDescId=?  WHERE ActualReferenceId = ?
actualreference.getyear=SELECT DISTINCT Year(FromDate) from ActualReference union SELECT DISTINCT Year(ToDate) from ActualReference
actualvalue.actuallist=SELECT ActualReferenceId,des.Description,busut.BusinessUnitName,ActualValue,bctr.BusinessCenterName FROM ActualReference ar JOIN ParamType des ON des.ParamTypeId=ar.ParamTypeCode  JOIN BusinessUnit busut ON ar.BusinessUnitId=busut.BusinessUnitId JOIN BusinessCenter bctr ON ar.BusinessCenterId=bctr.BusinessCenterId WHERE ar.ParamTypeCode=? AND ar.BusinessUnitId=? AND ar.BusinessCenterId=? AND ? BETWEEN DATE_FORMAT(FromDate, '%Y%m')AND DATE_FORMAT(ToDate, '%Y%m')
actualreference.searchcount=SELECT COUNT(*) FROM ActualReference WHERE BusinessCenterId=? AND StatementDate=? AND ParamTypeCode=?
actual.getlist=SELECT ActualReferenceId,ActualValue FROM ActualReference WHERE BusinessCenterId=? AND StatementDate=? AND ParamTypeCode=?  ORDER BY ActualReferenceId asc
actual.getdescription=SELECT ActualReferenceId,VolumeDescId FROM ActualReference WHERE BusinessCenterId=? AND StatementDate=? AND ParamTypeCode=? GROUP BY SubProcessId ORDER BY ActualReferenceId 
actual.getrevenuelist=SELECT BusinessUnitId,ActualValue FROM ActualReference WHERE BusinessCenterId=? AND StatementDate=? AND ParamTypeCode=?
actual.getvolumelist=SELECT BusinessUnitId,ActualValue FROM ActualReference WHERE BusinessCenterId=? AND StatementDate=? AND ParamTypeCode=? AND SubProcessId=?
getVolDescquery=SELECT VolumeDescId FROM VolumeDescription WHERE SubProcessId=?
actualref.subprocesses=SELECT SubProcessId,SubProcessName FROM SubProcess WHERE SubProcessId IN(SELECT SubProcessId FROM VolumeDescription) AND SubProcess.UsedForVolume=1
### HR Data Entry ####
hrdataentry.getmindate=SELECT MIN(entrydate) FROM (SELECT DISTINCT(EntryDate) FROM HRDataEntry WHERE OrganizationId=? ORDER BY EntryDate DESC LIMIT 2 ) t 
hrdataentry.getmaxdate=SELECT MAX(entrydate) FROM (SELECT DISTINCT(EntryDate) FROM HRDataEntry WHERE OrganizationId=? ORDER BY EntryDate DESC LIMIT 2 ) t 
hrdataentry.getdates1=SELECT DISTINCT(EntryDate) FROM HRDataEntry WHERE OrganizationId=? ORDER BY EntryDate DESC
hrdataentry.getdates2=SELECT DISTINCT(EntryDate) FROM HRDataEntry WHERE OrganizationId=? AND EntryDate < ? ORDER BY EntryDate DESC
hrdata.getdate=SELECT EntryDate,EntryDate FROM StatementEntry WHERE EntryStatus=1 ORDER BY EntryDate DESC
hrdata.deleteentries1=DELETE FROM HRDataEmployeeEntry WHERE EmployeeEntryId=?
hrdata.deleteentries2=DELETE FROM HRDataEmployeeDetail WHERE EmployeeEntryId=?

###ADD HRDATE########
hrdataentry.insert=INSERT INTO HRDataEntry (OrganizationId,BusinessCenterId,EntryDate) VALUES(?,?,?)
hrdataentry.getmaxid=SELECT MAX(EntryId) FROM HRDataEntry
hrdataemployeeentry.insert=INSERT INTO HRDataEmployeeEntry (EntryId,EmployeeName,EmployeeTypeId,ProcessId,SubProcessId,Grade,Tier,TotalFTE,TotalCompensation,CostCenter) VALUES(?,?,?,?,?,?,?,?,?,?)
hrdataemployeeentry.getmaxid=SELECT MAX(EmployeeEntryId) FROM HRDataEmployeeEntry
HRDataEmployeeDetail.insert=INSERT INTO HRDataEmployeeDetail (EmployeeEntryId,BusinessUnitId,FTE,Cost) VALUES(?,?,?,?)
hrdataentry.getcount=SELECT COUNT(*) FROM HRDataEntry WHERE OrganizationId=? AND BusinessCenterId=? AND EntryDate=?
hrdataentry.getid=SELECT EntryId FROM HRDataEntry WHERE OrganizationId=? AND BusinessCenterId=? AND EntryDate=?
hrdataemployeeentry.getdata=SELECT * FROM HRDataEmployeeEntry WHERE EntryId=?
HRDataEmployeeDetail.getdata=SELECT * FROM HRDataEmployeeDetail WHERE EmployeeEntryId=?
hrempdetails.getcount= SELECT COUNT(*) FROM HRDataEmployeeDetail WHERE EmployeeEntryId=?
HRDataEmployeeEntry.update=UPDATE HRDataEmployeeEntry SET EmployeeName=?,EmployeeTypeId=?,ProcessId=?,SubProcessId=?,Grade=?,Tier=?,TotalFTE=?,TotalCompensation=?,CostCenter=? WHERE EmployeeEntryId=?
HRDataEmployeeDetail.update=UPDATE HRDataEmployeeDetail SET BusinessUnitId=?,FTE=?,Cost=? WHERE DetailId=?
HRDataEmployeeDetail.delete=DELETE FROM HRDataEmployeeDetail WHERE EmployeeEntryId=?
##########


############User settings default values for different leaders########
usersettings.getdefaultLocationglobal=SELECT MIN(BusinessCenterId)AS BusinessCenterId FROM BusinessCenter WHERE OrganizationId=?
usersettings.getdefaultProcessglobal=SELECT MIN(ProcessId)AS ProcessId FROM Process WHERE OrganizationId=?
usersettings.getdefaultSubProcessglobal=SELECT MIN(SubProcessId)AS SubProcessId FROM SubProcess WHERE ProcessId=(SELECT MIN(ProcessId)AS ProcessId FROM Process WHERE OrganizationId=?)
usersettings.getdefaultSubProcess=SELECT MIN(SubProcessId)AS SubProcessId FROM SubProcess WHERE ProcessId=?

employeetype.getnames=SELECT * FROM EmployeeType

##############Excel DashBoard################################################
##############Global DashBoard##########################################
globaldashboard.excel.export.graphG1.1=SELECT BusinessCenterName, COUNT(EmployeeName) AS Resource FROM HRDataEmployeeEntry,BusinessCenter ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND HRDataEntry.EntryDate=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName
globaldashboard.excel.export.graphG1.2=SELECT BusinessCenterName,  SUM( CASE HRDataEntry.EntryDate WHEN 'date1' THEN 1 ELSE 0 END ) AS 'date1',SUM( CASE HRDataEntry.EntryDate WHEN 'date2' THEN 1 ELSE 0 END ) AS 'date2' FROM HRDataEmployeeEntry,BusinessCenter ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND HRDataEntry.EntryDate IN ('date1', 'date2') GROUP BY BusinessCenterName
globaldashboard.excel.export.graphG1.3=SELECT BusinessCenterName, SUM(TotalCompensation) AS TotalCost FROM HRDataEmployeeEntry,BusinessCenter ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND HRDataEntry.EntryDate=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName
globaldashboard.excel.export.graphG1.4=SELECT BusinessCenterName, ROUND(SUM(TotalCompensation)/COUNT(EmployeeName),0) AS AvgCost FROM HRDataEmployeeEntry,BusinessCenter ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND HRDataEntry.EntryDate=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName
#globaldashboard.excel.export.graph1.5=SELECT  BusinessCenterName, CASE HRDataEntry.EntryDate WHEN 'date1' THEN ROUND(SUM(TotalCompensation)/COUNT(EmployeeName),0) ELSE 0 END  AS 'date1', CASE HRDataEntry.EntryDate WHEN 'date2' THEN ROUND(SUM(TotalCompensation)/COUNT(EmployeeName),0) ELSE 0 END  AS 'date2'  FROM HRDataEmployeeEntry,BusinessCenter ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND HRDataEntry.EntryDate BETWEEN 'date2' AND 'date1' GROUP BY BusinessCenterName ORDER BY BusinessCenterName
#globaldashboard.excel.export.graph1.5=SELECT  BusinessCenterName, CASE HRDataEntry.EntryDate WHEN 'date1' THEN ROUND(SUM(TotalCompensation)/COUNT(EmployeeName),0) ELSE 0 END  AS 'date1', CASE HRDataEntry.EntryDate WHEN 'date2' THEN ROUND(SUM(TotalCompensation)/COUNT(EmployeeName),0) ELSE 0 END  AS 'date2'  FROM HRDataEmployeeEntry,BusinessCenter ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND HRDataEntry.EntryDate in ('date1','date2') GROUP BY BusinessCenterName ORDER BY BusinessCenterName
globaldashboard.excel.export.graphG1.5=SELECT BusinessCenterName, ROUND(SUM(CASE HRDataEntry.EntryDate WHEN 'date1' THEN TotalCompensation ELSE 0 END ) / SUM(CASE HRDataEntry.EntryDate WHEN 'date1' THEN 1 ELSE 0 END ),2) AS 'date1', ROUND(SUM( CASE HRDataEntry.EntryDate WHEN 'date2' THEN TotalCompensation ELSE 0 END ) / SUM(CASE HRDataEntry.EntryDate WHEN 'date2' THEN 1 ELSE 0 END ),2) AS 'date2' FROM HRDataEmployeeEntry, BusinessCenter, HRDataEntry WHERE HRDataEntry.EntryId = HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId = BusinessCenter.BusinessCenterId AND HRDataEntry.EntryDate IN ('date1', 'date2') GROUP BY BusinessCenterName ORDER BY BusinessCenterName
globaldashboard.excel.export.graphG2.1=SELECT CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation) AS TierDesignation, COUNT(EmployeeName) AS Resource FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier=HRDataEmployeeEntry.Tier AND HRDataEntry.EntryDate=? GROUP BY HRDataEmployeeEntry.Tier,Designation ORDER BY HRDataEmployeeEntry.Tier
globaldashboard.excel.export.graphG2.2=SELECT CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation) AS TierDesignation, SUM(CASE HRDataEntry.EntryDate WHEN 'date1' THEN 1  ELSE 0 END)  AS 'date1', SUM(CASE HRDataEntry.EntryDate WHEN 'date2' THEN 1  ELSE 0 END)  AS 'date2' FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier=HRDataEmployeeEntry.Tier AND HRDataEntry.EntryDate IN ( 'date1','date2') GROUP BY HRDataEmployeeEntry.Tier,Designation ORDER BY HRDataEmployeeEntry.Tier
globaldashboard.excel.export.graphG2.3=SELECT CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation)  AS TierDesignation, ROUND(COUNT(EmployeeName) /(SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.EntryDate=? )*100,0) perc FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier=HRDataEmployeeEntry.Tier AND HRDataEntry.EntryDate=? GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
#globaldashboard.excel.export.graph2.4=SELECT CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation) AS TierDesignation, CASE HRDataEntry.EntryDate WHEN 'date1' THEN ROUND(COUNT(EmployeeName) /(SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND MONTH(HRDataEntry.EntryDate)=7 AND YEAR(HRDataEntry.EntryDate)=2012 )*100,0) ELSE 0 END  AS 'date1', CASE HRDataEntry.EntryDate WHEN 'date2' THEN ROUND(COUNT(EmployeeName) /(SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND MONTH(HRDataEntry.EntryDate)=7 AND YEAR(HRDataEntry.EntryDate)=2012 )*100,0) ELSE 0 END  AS 'date2' FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier=HRDataEmployeeEntry.Tier AND HRDataEntry.EntryDate IN ( 'date1','date1') GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
#globaldashboard.excel.export.graph2.4=SELECT CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation) AS TierDesignation, CASE HRDataEntry.EntryDate WHEN 'date1' THEN ROUND(COUNT(EmployeeName) /(SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.EntryDate in ('date1') )*100,0) ELSE 0 END  AS 'date1', CASE HRDataEntry.EntryDate WHEN 'date2' THEN ROUND(COUNT(EmployeeName) /(SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.EntryDate in ('date2') )*100,0) ELSE 0 END  AS 'date2' FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier=HRDataEmployeeEntry.Tier AND HRDataEntry.EntryDate IN ( 'date1','date1') GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
globaldashboard.excel.export.graphG2.4=SELECT CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation) AS TierDesignation, round(SUM(CASE HRDataEntry.EntryDate WHEN 'date1' THEN 1 ELSE 0 END)/max(CASE HRDataEntry.EntryDate WHEN 'date1' THEN (SELECT count(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.EntryDate in ('date1')) ELSE 0 END)*100,0) AS 'date1', round(SUM(CASE HRDataEntry.EntryDate WHEN 'date2' THEN 1 ELSE 0 END)/ max(CASE HRDataEntry.EntryDate WHEN 'date2' THEN (SELECT count(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.EntryDate in ('date2')) ELSE 0 END)*100,0) AS 'date2' FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier=HRDataEmployeeEntry.Tier AND HRDataEntry.EntryDate IN ( 'date1','date2') GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
globaldashboard.excel.export.graphG2.5=SELECT b1.BusinessCenterName,ROUND( COUNT( EmployeeName ) / (SELECT COUNT( EmployeeName ) FROM HRDataEmployeeEntry, HRDataEntry, BusinessCenter b2 WHERE HRDataEntry.EntryId = HRDataEmployeeEntry.EntryId AND b2.BusinessCenterId = HRDataEntry.BusinessCenterId AND HRDataEntry.EntryDate =  ? AND b2.BusinessCenterId = b1.BusinessCenterId ) *100, 0 ) perc FROM HRDataEntry, HRDataEmployeeEntry, BusinessCenter b1 WHERE HRDataEntry.EntryId = HRDataEmployeeEntry.EntryId AND b1.BusinessCenterId = HRDataEntry.BusinessCenterId AND HRDataEmployeeEntry.Tier =? AND HRDataEntry.EntryDate = ? GROUP BY b1.BusinessCenterName
globaldashboard.excel.export.graphG3.1=SELECT ProcessName, COUNT(EmployeeName) AS Resource FROM HRDataEmployeeEntry,HRDataEntry,Process WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND Process.ProcessId=HRDataEmployeeEntry.ProcessId AND HRDataEntry.EntryDate=? GROUP BY ProcessName ORDER BY ProcessName
#globaldashboard.excel.export.graph3.2=SELECT Processname, ROUND(SUM(TotalCompensation)/COUNT(EmployeeName),0) AS AvgCostPerFTE FROM HRDataEmployeeEntry,HRDataEntry,Process WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND Process.ProcessId=HRDataEmployeeEntry.ProcessId AND HRDataEntry.EntryDate=? GROUP BY ProcessName ORDER BY ProcessName
globaldashboard.excel.export.graphG3.2=SELECT ProcessName,SUM(CASE HRDataEntry.EntryDate WHEN 'date1' THEN 1  ELSE 0 END)  AS 'date1',SUM(CASE HRDataEntry.EntryDate WHEN 'date2' THEN 1  ELSE 0 END)  AS 'date2' FROM HRDataEmployeeEntry,HRDataEntry,Process WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND Process.ProcessId=HRDataEmployeeEntry.ProcessId AND HRDataEntry.EntryDate IN ( 'date1','date2') GROUP BY ProcessName ORDER BY ProcessName
#globaldashboard.excel.export.graph3.3=SELECT ProcessName,CASE HRDataEntry.EntryDate WHEN 'date1' THEN COUNT(EmployeeName)  ELSE 0 END  AS 'date1', CASE HRDataEntry.EntryDate WHEN 'date2' THEN COUNT(EmployeeName)  ELSE 0 END  AS 'date2' FROM HRDataEmployeeEntry,HRDataEntry,Process WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND Process.ProcessId=HRDataEmployeeEntry.ProcessId AND HRDataEntry.EntryDate IN ( 'date1','date2') GROUP BY ProcessName ORDER BY ProcessName
globaldashboard.excel.export.graphG3.3=SELECT Processname, ROUND(SUM(TotalCompensation)/SUM(TotalFTE),0) AS AvgCostPerFTE FROM HRDataEmployeeEntry,HRDataEntry,Process WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND Process.ProcessId=HRDataEmployeeEntry.ProcessId AND HRDataEntry.EntryDate=? GROUP BY ProcessName ORDER BY ProcessName
##########################ENDS##########################################
##############LOcationDashBoard#########################################
locationdashboard.excel.export.graphL1.1=SELECT ProcessName,COUNT(EmployeeName) AS Resource FROM HRDataEmployeeEntry,Process ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=? AND Process.ProcessId=HRDataEmployeeEntry.ProcessId AND HRDataEntry.EntryDate=? GROUP BY ProcessName ORDER BY ProcessName
#locationdashboard.excel.export.graph1.2=SELECT  ProcessName, CASE HRDataEntry.EntryDate WHEN 'date1' THEN COUNT(EmployeeName)  ELSE 0 END  AS 'date1', CASE HRDataEntry.EntryDate WHEN 'date2' THEN COUNT(EmployeeName)  ELSE 0 END  AS 'date2' FROM HRDataEmployeeEntry,Process ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=? AND Process.ProcessId=HRDataEmployeeEntry.ProcessId AND HRDataEntry.EntryDate IN ( 'date1','date2') GROUP BY ProcessName ORDER BY ProcessName
locationdashboard.excel.export.graphL1.2=SELECT  ProcessName, sum(CASE HRDataEntry.EntryDate WHEN 'date1' THEN 1  ELSE 0 END)  AS 'date1', sum(CASE HRDataEntry.EntryDate WHEN 'date2' THEN 1  ELSE 0 END)  AS 'date2' FROM HRDataEmployeeEntry,Process ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=? AND Process.ProcessId=HRDataEmployeeEntry.ProcessId AND HRDataEntry.EntryDate IN ( 'date1','date2') GROUP BY ProcessName ORDER BY ProcessName
locationdashboard.excel.export.graphL1.3=SELECT BusinessUnitName,SUM(HRDataEmployeeDetail.FTE) AS FTE  FROM HRDataEmployeeEntry,BusinessUnit ,HRDataEntry,HRDataEmployeeDetail WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEmployeeDetail.EmployeeEntryid = HRDataEmployeeEntry.EmployeeEntryId AND HRDataEntry.BusinessCenterId=? AND BusinessUnit.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND HRDataEntry.EntryDate=? GROUP BY BusinessUnitName ORDER BY BusinessUnitName
#locationdashboard.excel.export.graph1.4=SELECT BusinessUnitName,CASE HRDataEntry.EntryDate WHEN 'date1' THEN SUM(FTE)  ELSE 0 END  AS 'date1', CASE HRDataEntry.EntryDate WHEN 'date2' THEN SUM(FTE)  ELSE 0 END  AS 'date2'  FROM HRDataEmployeeEntry,BusinessUnit ,HRDataEntry,HRDataEmployeeDetail WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEmployeeDetail.EmployeeEntryid = HRDataEmployeeEntry.EmployeeEntryId AND HRDataEntry.BusinessCenterId=? AND BusinessUnit.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND HRDataEntry.EntryDate IN ('date1','date2') GROUP BY BusinessUnitName ORDER BY BusinessUnitName
locationdashboard.excel.export.graphL1.4=SELECT BusinessUnitName, SUM(CASE HRDataEntry.EntryDate WHEN 'date1' THEN FTE ELSE 0 END ) AS 'date1', SUM(CASE HRDataEntry.EntryDate WHEN 'date2' THEN FTE ELSE 0 END ) AS 'date2' FROM HRDataEmployeeEntry, BusinessUnit, HRDataEntry, HRDataEmployeeDetail WHERE HRDataEntry.EntryId = HRDataEmployeeEntry.EntryId AND HRDataEmployeeDetail.EmployeeEntryid = HRDataEmployeeEntry.EmployeeEntryId AND HRDataEntry.BusinessCenterId =? AND BusinessUnit.BusinessUnitId = HRDataEmployeeDetail.BusinessUnitId AND HRDataEntry.EntryDate IN ('date1', 'date2') GROUP BY BusinessUnitName ORDER BY BusinessUnitName
locationdashboard.excel.export.graphL1.5=SELECT CostCenter,COUNT(EmployeeName) AS Resource FROM HRDataEmployeeEntry ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=? AND HRDataEntry.EntryDate=? GROUP BY CostCenter ORDER BY CostCenter
#locationdashboard.excel.export.graph1.6=SELECT Costcenter, CASE HRDataEntry.EntryDate WHEN 'date1' THEN COUNT(EmployeeName)  ELSE 0 END  AS 'date1', CASE HRDataEntry.EntryDate WHEN 'date2' THEN COUNT(EmployeeName)  ELSE 0 END  AS 'date2' FROM HRDataEmployeeEntry ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=? AND HRDataEntry.EntryDate IN ('date1','date2') GROUP BY CostCenter ORDER BY CostCenter
locationdashboard.excel.export.graphL1.6=SELECT Costcenter, sum(CASE HRDataEntry.EntryDate WHEN 'date1' THEN 1  ELSE 0 END)  AS 'date1', sum(CASE HRDataEntry.EntryDate WHEN 'date2' THEN 1  ELSE 0 END)  AS 'date2' FROM HRDataEmployeeEntry ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=? AND HRDataEntry.EntryDate IN ('date1','date2') GROUP BY CostCenter ORDER BY CostCenter
#locationdashboard.excel.export.graphL1.7=SELECT Grade, COUNT(EmployeeName) AS Resource FROM HRDataEmployeeEntry ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.EntryDate=? GROUP BY Grade ORDER BY Grade
locationdashboard.excel.export.graphL1.7=SELECT Grade, COUNT(EmployeeName) AS Resource FROM HRDataEmployeeEntry ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.EntryDate=? and HRDataEntry.BusinessCenterId=? GROUP BY Grade ORDER BY Grade
#locationdashboard.excel.export.graphL1.8=SELECT Grade,  SUM( CASE HRDataEntry.EntryDate WHEN 'date1' THEN 1 ELSE 0 END ) AS 'date1',SUM( CASE HRDataEntry.EntryDate WHEN 'date2' THEN 1 ELSE 0 END ) AS 'date2' FROM HRDataEmployeeEntry,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.EntryDate IN ('date1', 'date2') GROUP BY Grade ORDER BY Grade
locationdashboard.excel.export.graphL1.8=SELECT Grade,  SUM( CASE HRDataEntry.EntryDate WHEN 'date1' THEN 1 ELSE 0 END ) AS 'date1',SUM( CASE HRDataEntry.EntryDate WHEN 'date2' THEN 1 ELSE 0 END ) AS 'date2' FROM HRDataEmployeeEntry,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.EntryDate IN ('date1', 'date2') and HRDataEntry.BusinessCenterId=? GROUP BY Grade ORDER BY Grade
locationdashboard.excel.export.graphL2.1=SELECT CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation) AS TierDesignation, COUNT(EmployeeName) AS Resource FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier =HRDataEmployeeEntry.Tier AND HRDataEntry.BusinessCenterId=? AND HRDataEntry.EntryDate=? GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
#locationdashboard.excel.export.graph2.2=SELECT CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation) AS TierDesignation ,CASE HRDataEntry.EntryDate WHEN 'date1' THEN COUNT(EmployeeName)  ELSE 0 END  AS 'date1', CASE HRDataEntry.EntryDate WHEN 'date2' THEN COUNT(EmployeeName)  ELSE 0 END  AS 'date2' FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier =HRDataEmployeeEntry.Tier AND HRDataEntry.BusinessCenterId=? AND HRDataEntry.EntryDate IN ( 'date1','date1') GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
locationdashboard.excel.export.graphL2.2=SELECT CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation) AS TierDesignation ,sum(CASE HRDataEntry.EntryDate WHEN 'date1' THEN 1  ELSE 0 END)  AS 'date1', sum(CASE HRDataEntry.EntryDate WHEN 'date2' THEN 1  ELSE 0 END)  AS 'date2' FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier =HRDataEmployeeEntry.Tier AND HRDataEntry.BusinessCenterId=? AND HRDataEntry.EntryDate IN ( 'date1','date2') GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
locationdashboard.excel.export.graphL2.3=SELECT CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation)  AS TierDesignation, ROUND(COUNT(EmployeeName) /(SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=? AND HRDataEntry.EntryDate=? )*100,0) perc FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier=HRDataEmployeeEntry.Tier AND HRDataEntry.BusinessCenterId=? AND HRDataEntry.EntryDate=? GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
#locationdashboard.excel.export.graph2.4=SELECT BusinessCenterName, ROUND(COUNT(EmployeeName) /(SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry,BusinessCenter WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND BusinessCenter.BusinessCenterId=HRDataEntry.BusinessCenterId AND HRDataEntry.EntryDate=? )*100,0) perc,Target FROM HRDataEntry,HRDataEmployeeEntry,BusinessCenter,TierTarget  WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierTarget.Tier =HRDataEmployeeEntry.Tier AND BusinessCenter.BusinessCenterId=HRDataEntry.BusinessCenterId AND TierTarget.TargetStatus=? AND HRDataEmployeeEntry.Tier=? AND HRDataEntry.EntryDate=? GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
locationdashboard.excel.export.graphL2.4=SELECT BusinessCenterName,ROUND(COUNT(EmployeeName) /(SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry e11 WHERE e11.EntryId=HRDataEmployeeEntry.EntryId AND e11.BusinessCenterId=e21.BusinessCenterId AND BusinessCenter.BusinessCenterId=e11.BusinessCenterId AND e11.EntryDate=?)*100,0) perc FROM HRDataEntry e21,HRDataEmployeeEntry,BusinessCenter WHERE e21.EntryId=HRDataEmployeeEntry.EntryId AND BusinessCenter.BusinessCenterId=e21.BusinessCenterId AND HRDataEmployeeEntry.Tier=? AND e21.EntryDate=? AND HRDataEmployeeEntry.EntryId=e21.EntryId GROUP BY BusinessCenterName
#locationdashboard.excel.export.graph2.5=SELECT BusinessCenterName,ROUND(COUNT(EmployeeName) /(SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry,BusinessCenter WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND BusinessCenter.BusinessCenterId=HRDataEntry.BusinessCenterId AND HRDataEntry.EntryDate=? )*100,0) perc FROM HRDataEntry,HRDataEmployeeEntry,BusinessCenter WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND BusinessCenter.BusinessCenterId=HRDataEntry.BusinessCenterId AND HRDataEmployeeEntry.Tier=? AND HRDataEntry.EntryDate=? GROUP BY BusinessCenterName UNION SELECT Target AS perc,'Target' AS BusinessCenterName FROM HRDataEntry,HRDataEmployeeEntry,BusinessCenter,TierTarget WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierTarget.Tier =HRDataEmployeeEntry.Tier AND BusinessCenter.BusinessCenterId=HRDataEntry.BusinessCenterId AND TierTarget.TargetStatus=? AND HRDataEntry.EntryDate BETWEEN TierTarget.FromDate AND TierTarget.FromDate AND HRDataEmployeeEntry.Tier=? AND HRDataEntry.EntryDate=? GROUP BY BusinessCenterName
locationdashboard.excel.export.graphL2.5=SELECT ProcessName,IFNULL(ROUND(COUNT(EmployeeName) /(SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry h11,HRDataEntry  WHERE HRDataEntry.EntryId=h11.EntryId  AND HRDataEntry.BusinessCenterId=? AND h21.ProcessId=h11.ProcessId  AND HRDataEntry.EntryDate=?) *100,2),0) AS FTEPERC FROM HRDataEmployeeEntry h21,HRDataEntry ,Process WHERE HRDataEntry.EntryId=h21.EntryId AND h21.ProcessId=Process.ProcessId AND HRDataEntry.BusinessCenterId=? AND Tier=? AND HRDataEntry.EntryDate=? GROUP BY ProcessName ORDER BY ProcessName
#locationdashboard.excel.export.graph2.6=SELECT BusinessCenterName,ROUND(COUNT(EmployeeName) /(SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry e11 WHERE e11.EntryId=HRDataEmployeeEntry.EntryId AND e11.BusinessCenterId=e21.BusinessCenterId AND BusinessCenter.BusinessCenterId=e11.BusinessCenterId AND e11.EntryDate=?)*100,0) perc FROM HRDataEntry e21,HRDataEmployeeEntry,BusinessCenter WHERE e21.EntryId=HRDataEmployeeEntry.EntryId AND BusinessCenter.BusinessCenterId=e21.BusinessCenterId AND HRDataEmployeeEntry.Tier=? AND e21.EntryDate=? AND HRDataEmployeeEntry.EntryId=e21.EntryId GROUP BY BusinessCenterName
locationdashboard.excel.export.graphL2.6=SELECT BusinessCenterName,ROUND(COUNT(EmployeeName) /(SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry e11 WHERE e11.EntryId=HRDataEmployeeEntry.EntryId AND e11.BusinessCenterId=e21.BusinessCenterId AND BusinessCenter.BusinessCenterId=e11.BusinessCenterId AND e11.EntryDate=?)*100,0) perc FROM HRDataEntry e21,HRDataEmployeeEntry,BusinessCenter WHERE e21.EntryId=HRDataEmployeeEntry.EntryId AND BusinessCenter.BusinessCenterId=e21.BusinessCenterId AND HRDataEmployeeEntry.Tier=? AND e21.EntryDate=? AND HRDataEmployeeEntry.EntryId=e21.EntryId GROUP BY BusinessCenterName
locationdashboard.excel.export.graphL3.1=SELECT BusinessUnitName,ROUND(ActualValue/SUM(FTE),0) AS VolumePerFTE FROM ActualReference,HRDataEmployeeDetail,HRDataEmployeeEntry,HRDataEntry,BusinessUnit WHERE ActualReference.ParamTypeCode=? AND ActualReference.SubProcessId=HRDataEmployeeEntry.SubProcessId AND ActualReference.StatementDate=HRDataEntry.EntryDate AND ActualReference.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND ActualReference.BusinessCenterId=HRDataEntry.BusinessCenterId AND ActualReference.Status=? AND HRDataEmployeeEntry.EntryId=HRDataEntry.EntryId AND HRDataEmployeeDetail.EmployeeEntryId= HRDataEmployeeEntry.EmployeeEntryId AND BusinessUnit.BusinessUnitId=ActualReference.BusinessUnitId AND HRDataEmployeeEntry.SubProcessId=? AND HRDataEntry.EntryDate=? AND HRDataEntry.BusinessCenterId=?  GROUP BY BusinessUnitName ORDER BY BusinessUnitName
locationdashboard.excel.export.graphL3.2=SELECT BusinessCenterName,IFNULL( ROUND( SUM( actualvalue ) / (SELECT SUM( FTE ) FROM HRDataEmployeeDetail WHERE EmployeeEntryId IN (SELECT EmployeeEntryId FROM HRDataEmployeeEntry WHERE EntryId IN (SELECT EntryId FROM HRDataEntry WHERE EntryDate = ? AND HRDataEntry.BusinessCenterId = e21.BusinessCenterId) AND SubProcessId =?) ) , 0 ) , 0 ) AS AvgVolPerFTE FROM ActualReference, BusinessCenter e21 WHERE ActualReference.Status =? AND ActualReference.ParamTypeCode =? AND e21.BusinessCenterId = ActualReference.BusinessCenterId AND ActualReference.StatementDate = ? AND ActualReference.SubProcessId =? GROUP BY BusinessCenterName
#locationdashboard.excel.export.graph3.3=SELECT BusinessUnitName,ROUND(SUM(Cost)/SUM(ActualValue),2) AS Avgpersonnelcost FROM ActualReference,HRDataEmployeeDetail,HRDataEmployeeEntry,HRDataEntry,BusinessUnit WHERE ActualReference.ParamTypeCode=? AND ActualReference.SubProcessId=HRDataEmployeeEntry.SubProcessId AND ActualReference.StatementDate=HRDataEntry.EntryDate AND ActualReference.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND ActualReference.BusinessCenterId=HRDataEntry.BusinessCenterId AND ActualReference.Status=? AND HRDataEmployeeEntry.EntryId=HRDataEntry.EntryId AND HRDataEmployeeDetail.EmployeeEntryId= HRDataEmployeeEntry.EmployeeEntryId AND BusinessUnit.BusinessUnitId=ActualReference.BusinessUnitId AND HRDataEmployeeEntry.SubProcessId=?   AND HRDataEntry.EntryDate=? GROUP BY BusinessUnitName ORDER BY BusinessUnitName
locationdashboard.excel.export.graphL3.3=SELECT BusinessUnitName,round(SUM(Cost)/(select SUM(ActualValue) from ActualReference  where ActualReference.ParamTypeCode=? and ActualReference.SubProcessId=h21.SubProcessId AND ActualReference.StatementDate=h11.EntryDate and ActualReference.BusinessUnitId=h31.BusinessUnitId AND ActualReference.BusinessCenterId=h11.BusinessCenterId  AND ActualReference.Status=?),2)  AS Avgpersonnelcost FROM HRDataEmployeeDetail h31,HRDataEmployeeEntry h21,HRDataEntry h11,BusinessUnit WHERE  h21.EntryId=h11.EntryId AND h31.EmployeeEntryId= h21.EmployeeEntryId AND BusinessUnit.BusinessUnitId=h31.BusinessUnitId AND h21.SubProcessId=?   AND h11.EntryDate=? and h11.BusinessCenterId= ? GROUP BY BusinessUnitName ORDER BY BusinessUnitName
locationdashboard.excel.export.graphL3.4=SELECT BusinessCenterName,IFNULL(ROUND(1/IFNULL( SUM( actualvalue ) /  (SELECT SUM( Cost ) FROM HRDataEmployeeDetail WHERE EmployeeEntryId IN  (SELECT EmployeeEntryId FROM HRDataEmployeeEntry WHERE EntryId IN  (SELECT EntryId FROM HRDataEntry WHERE EntryDate = ? AND HRDataEntry.BusinessCenterId = e21.BusinessCenterId) AND SubProcessId =? ) ) , 0 ),2),0) AS AvgVolPerFTE FROM ActualReference, BusinessCenter e21 WHERE ActualReference.Status =? AND ActualReference.ParamTypeCode =? AND e21.BusinessCenterId = ActualReference.BusinessCenterId AND ActualReference.StatementDate =? AND ActualReference.SubProcessId =? GROUP BY BusinessCenterName
#locationdashboard.excel.export.graph4.1=SELECT BusinessUnitName,COUNT(EmployeeName) AS Resource FROM HRDataEmployeeEntry,HRDataEntry,BusinessUnit,HRDataEmployeeDetail WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEmployeeEntry.EmployeeEntryId = HRDataEmployeeDetail.EmployeeEntryId AND BusinessUnit.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND HRDataEntry.EntryDate=? AND HRDataEntry.BusinessCenterId=? GROUP BY BusinessUnitName ORDER BY BusinessUnitName
locationdashboard.excel.export.graphL4.1=SELECT BusinessUnitName,SUM(FTE) AS Resource FROM HRDataEmployeeEntry,HRDataEntry,BusinessUnit,HRDataEmployeeDetail WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEmployeeEntry.EmployeeEntryId = HRDataEmployeeDetail.EmployeeEntryId AND BusinessUnit.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND HRDataEntry.EntryDate=? AND HRDataEntry.BusinessCenterId=? GROUP BY BusinessUnitName ORDER BY BusinessUnitName
locationdashboard.excel.export.graphL4.2=SELECT BusinessUnitName,SUM(CASE HRDataEntry.EntryDate WHEN 'date1' THEN FTE ELSE 0 END ) AS 'date1',SUM(CASE HRDataEntry.EntryDate WHEN 'date2' THEN FTE ELSE 0 END ) AS 'date2' FROM HRDataEmployeeEntry,HRDataEntry,BusinessUnit,HRDataEmployeeDetail WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEmployeeEntry.EmployeeEntryId = HRDataEmployeeDetail.EmployeeEntryId AND BusinessUnit.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND HRDataEntry.EntryDate IN ('date1', 'date2') AND HRDataEntry.BusinessCenterId=? GROUP BY BusinessUnitName ORDER BY BusinessUnitName
locationdashboard.excel.export.graphL4.3=SELECT BusinessUnitName,ROUND((SUM(FTE)/ActualValue)*1000000000,0) AS FTEPERBillion FROM HRDataEmployeeEntry,HRDataEntry,BusinessUnit,HRDataEmployeeDetail,ActualReference WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEmployeeDetail.EmployeeEntryId=HRDataEmployeeEntry.EmployeeEntryId AND BusinessUnit.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND ActualReference.OrganizationId=HRDataEntry.OrganizationId AND ActualReference.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND ActualReference.ParamTypeCode=? AND HRDataEntry.EntryDate BETWEEN ActualReference.StatementDate AND ActualReference.StatementDate AND ActualReference.Status=? AND HRDataEntry.EntryDate=? AND HRDataEntry.BusinessCenterId=? GROUP BY BusinessUnitName ORDER BY BusinessUnitName
locationdashboard.excel.export.graphL4.4=SELECT BusinessUnitName,ROUND(SUM(CASE HRDataEntry.EntryDate WHEN 'date1' THEN FTE ELSE 0 END )/(SELECT SUM(ActualValue) FROM ActualReference WHERE ActualReference.OrganizationId=HRDataEntry.OrganizationId AND ActualReference.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND ActualReference.ParamTypeCode=? AND HRDataEntry.EntryDate =ActualReference.StatementDate AND ActualReference.Status=? AND ActualReference.StatementDate='date1')*1000000000,0) AS 'date1', ROUND(SUM(CASE HRDataEntry.EntryDate WHEN 'date2' THEN FTE ELSE 0 END )/(SELECT SUM(ActualValue) FROM ActualReference WHERE ActualReference.OrganizationId=HRDataEntry.OrganizationId AND ActualReference.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND ActualReference.ParamTypeCode=? AND HRDataEntry.EntryDate =ActualReference.StatementDate AND ActualReference.Status=? AND ActualReference.StatementDate='date2')*1000000000,0) AS 'date2' FROM HRDataEmployeeEntry,HRDataEntry,BusinessUnit,HRDataEmployeeDetail WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEmployeeDetail.EmployeeEntryId=HRDataEmployeeEntry.EmployeeEntryId AND BusinessUnit.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND HRDataEntry.EntryDate IN ('date1','date2') AND HRDataEntry.BusinessCenterId=? GROUP BY BusinessUnitName ORDER BY BusinessUnitName
#########################Ends###########################################
#########################Process DashBorad##############################
processdashboard.excel.export.graphP1.1=SELECT BusinessCenterName,COUNT(EmployeeName) AS Resource FROM HRDataEmployeeEntry,BusinessCenter ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName
#processdashboard.excel.export.graph1.2=SELECT BusinessCenterName,CASE HRDataEntry.EntryDate WHEN 'date1' THEN COUNT(EmployeeName)  ELSE 0 END  AS 'date1',CASE HRDataEntry.EntryDate WHEN 'date2' THEN COUNT(EmployeeName)  ELSE 0 END  AS 'date2' FROM HRDataEmployeeEntry,BusinessCenter ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate IN ( 'date1','date2')  GROUP BY BusinessCenterName ORDER BY BusinessCenterName
processdashboard.excel.export.graphP1.2=SELECT BusinessCenterName,sum(CASE HRDataEntry.EntryDate WHEN 'date1' THEN 1  ELSE 0 END)  AS 'date1',sum(CASE HRDataEntry.EntryDate WHEN 'date2' THEN 1  ELSE 0 END)  AS 'date2' FROM HRDataEmployeeEntry,BusinessCenter ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate IN ( 'date1','date2')  GROUP BY BusinessCenterName ORDER BY BusinessCenterName
processdashboard.excel.export.graphP1.3=SELECT BusinessCenterName, ROUND(SUM(TotalCompensation)/COUNT(EmployeeName),0) AS AvgCost FROM HRDataEmployeeEntry,BusinessCenter ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName
#processdashboard.excel.export.graph1.4=SELECT BusinessCenterName, CASE HRDataEntry.EntryDate WHEN 'date1' THEN ROUND(SUM(TotalCompensation)/COUNT(EmployeeName),0)  ELSE 0 END  AS 'date1', CASE HRDataEntry.EntryDate WHEN 'date2' THEN ROUND(SUM(TotalCompensation)/COUNT(EmployeeName),0)  ELSE 0 END  AS 'date2' FROM HRDataEmployeeEntry,BusinessCenter ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate IN ( 'date1','date2') GROUP BY BusinessCenterName ORDER BY BusinessCenterName
processdashboard.excel.export.graphP1.4=SELECT BusinessCenterName, round(SUM(CASE HRDataEntry.EntryDate WHEN 'date1' THEN TotalCompensation ELSE 0 END ) / SUM(CASE HRDataEntry.EntryDate WHEN 'date1' THEN 1 ELSE 0 END ),2) AS 'date1', round(SUM( CASE HRDataEntry.EntryDate WHEN 'date2' THEN TotalCompensation ELSE 0 END ) / SUM(CASE HRDataEntry.EntryDate WHEN 'date2' THEN 1 ELSE 0 END ),2) AS 'date2' FROM HRDataEmployeeEntry,BusinessCenter ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate IN ( 'date1','date2') GROUP BY BusinessCenterName ORDER BY BusinessCenterName
processdashboard.excel.export.graphP1.5=SELECT "Average Labor Cost",ROUND(SUM(TotalCompensation)/COUNT(EmployeeName),0) AS AvgCost FROM HRDataEmployeeEntry, HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND  HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate=? GROUP BY HRDataEntry.EntryDate ORDER BY HRDataEntry.EntryDate
processdashboard.excel.export.graphP2.1=SELECT CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation) AS TierDesignation,COUNT(EmployeeName) AS Resource  FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier =HRDataEmployeeEntry.Tier AND HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate=? GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
#processdashboard.excel.export.graph2.2=SELECT CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation) AS TierDesignation, CASE HRDataEntry.EntryDate WHEN 'date1' THEN COUNT(EmployeeName)  ELSE 0 END AS 'date1', CASE HRDataEntry.EntryDate WHEN 'date2' THEN COUNT(EmployeeName)  ELSE 0 END AS 'date2' FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEmployeeEntry.ProcessId=? AND TierDesignation.Tier =HRDataEmployeeEntry.Tier AND HRDataEntry.EntryDate IN ( 'date1','date2')  GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
processdashboard.excel.export.graphP2.2=SELECT CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation) AS TierDesignation, sum(CASE HRDataEntry.EntryDate WHEN 'date1' THEN 1 ELSE 0 END) AS 'date1', sum(CASE HRDataEntry.EntryDate WHEN 'date2' THEN 1  ELSE 0 END) AS 'date2' FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEmployeeEntry.ProcessId=? AND TierDesignation.Tier =HRDataEmployeeEntry.Tier AND HRDataEntry.EntryDate IN ( 'date1','date2')  GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
#processdashboard.excel.export.graph2.3=SELECT CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation)  AS TierDesignation,ROUND(COUNT(EmployeeName) /(SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId  AND HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate=?  )*100,0) perc FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier=HRDataEmployeeEntry.Tier  AND HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate=? GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
processdashboard.excel.export.graphP2.3=SELECT CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation)  AS TierDesignation,ROUND(SUM(TotalFTE)  /(SELECT SUM(TotalFTE) FROM HRDataEmployeeEntry,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND  HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate=?)*100,0) perc FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier=HRDataEmployeeEntry.Tier AND HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate=? GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
#processdashboard.excel.export.graph2.4=SELECT CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation)  AS TierDesignation, CASE HRDataEntry.EntryDate WHEN 'date1' THEN ROUND(COUNT(EmployeeName) /(SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=? AND HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate IN ( 'date1','date2')  )*100,0) ELSE 0 END AS 'date1', CASE HRDataEntry.EntryDate WHEN 'date2' THEN  ROUND(COUNT(EmployeeName) /(SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=? AND HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate IN ( 'date1','date2')  )*100,0) ELSE 0 END AS 'date2' FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier=HRDataEmployeeEntry.Tier AND HRDataEntry.BusinessCenterId=? AND HRDataEmployeeEntry.ProcessId=? AND HRDataEntry.EntryDate IN ( 'date1','date2') GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
#processdashboard.excel.export.graph2.4=SELECT CONCAT( 'Tier', ' ', HRDataEmployeeEntry.Tier, ' ', TierDesignation.Designation ) AS TierDesignation,CASE HRDataEntry.EntryDate WHEN 'date1' THEN ROUND( SUM( TotalFTE ) / ( SELECT SUM( TotalFTE ) FROM HRDataEmployeeEntry, HRDataEntry WHERE HRDataEntry.EntryId = HRDataEmployeeEntry.EntryId AND HRDataEmployeeEntry.ProcessId =? AND HRDataEntry.EntryDate = 'date1' ) *100, 0 ) END 'date1', CASE HRDataEntry.EntryDate WHEN 'date2' THEN ROUND( SUM( TotalFTE ) / ( SELECT SUM( TotalFTE ) FROM HRDataEmployeeEntry, HRDataEntry WHERE HRDataEntry.EntryId = HRDataEmployeeEntry.EntryId AND HRDataEmployeeEntry.ProcessId =? AND HRDataEntry.EntryDate = 'date2' ) *100, 0 ) END 'date2' FROM HRDataEmployeeEntry, HRDataEntry, TierDesignation WHERE HRDataEntry.EntryId = HRDataEmployeeEntry.EntryId AND TierDesignation.Tier = HRDataEmployeeEntry.Tier AND HRDataEmployeeEntry.ProcessId =? AND HRDataEntry.EntryDate IN ('date1', 'date2') GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
processdashboard.excel.export.graphP2.4=SELECT CONCAT( 'Tier', ' ', HRDataEmployeeEntry.Tier, ' ', TierDesignation.Designation ) AS TierDesignation,ROUND(SUM(CASE HRDataEntry.EntryDate WHEN 'date1' THEN  TotalFTE ELSE 0 END) / MAX( CASE HRDataEntry.EntryDate WHEN 'date1' THEN (SELECT SUM( TotalFTE ) FROM HRDataEmployeeEntry, HRDataEntry WHERE HRDataEntry.EntryId = HRDataEmployeeEntry.EntryId AND HRDataEmployeeEntry.ProcessId =? AND HRDataEntry.EntryDate = 'date1' ) ELSE 0 END) *100,0)  AS 'date1', ROUND(SUM(CASE HRDataEntry.EntryDate WHEN 'date2' THEN  TotalFTE ELSE 0 END)    / MAX( CASE HRDataEntry.EntryDate WHEN 'date2' THEN (SELECT SUM( TotalFTE ) FROM HRDataEmployeeEntry, HRDataEntry WHERE HRDataEntry.EntryId = HRDataEmployeeEntry.EntryId AND HRDataEmployeeEntry.ProcessId =? AND HRDataEntry.EntryDate = 'date2' ) ELSE 0 END) *100,0)  AS 'date2' FROM HRDataEmployeeEntry, HRDataEntry, TierDesignation WHERE HRDataEntry.EntryId = HRDataEmployeeEntry.EntryId AND TierDesignation.Tier = HRDataEmployeeEntry.Tier AND HRDataEmployeeEntry.ProcessId =? AND HRDataEntry.EntryDate IN ('date1', 'date2') GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
#processdashboard.excel.export.graph2.5=SELECT b1.BusinessCenterName,ROUND( COUNT( EmployeeName ) / ( SELECT COUNT( EmployeeName ) FROM HRDataEmployeeEntry, HRDataEntry, BusinessCenter b2 WHERE HRDataEntry.EntryId = HRDataEmployeeEntry.EntryId AND b2.BusinessCenterId = HRDataEntry.BusinessCenterId AND HRDataEntry.EntryDate =  ? AND b2.BusinessCenterId = b1.BusinessCenterId  ) *100, 0 ) perc FROM HRDataEntry, HRDataEmployeeEntry, BusinessCenter b1 WHERE HRDataEntry.EntryId = HRDataEmployeeEntry.EntryId AND b1.BusinessCenterId = HRDataEntry.BusinessCenterId AND HRDataEntry.EntryDate =  ? AND HRDataEmployeeEntry.Tier =? GROUP BY b1.BusinessCenterName
#processdashboard.excel.export.graph2.5=SELECT b1.BusinessCenterName,ROUND( SUM( TotalFTE ) / ( SELECT SUM( TotalFTE ) FROM HRDataEmployeeEntry, HRDataEntry, BusinessCenter b2 WHERE HRDataEntry.EntryId = HRDataEmployeeEntry.EntryId AND b2.BusinessCenterId = HRDataEntry.BusinessCenterId AND HRDataEntry.EntryDate =  ? AND b2.BusinessCenterId = b1.BusinessCenterId  ) *100, 0 ) perc FROM HRDataEntry, HRDataEmployeeEntry, BusinessCenter b1 WHERE HRDataEntry.EntryId = HRDataEmployeeEntry.EntryId AND b1.BusinessCenterId = HRDataEntry.BusinessCenterId AND HRDataEntry.EntryDate =  ? AND HRDataEmployeeEntry.Tier =? GROUP BY b1.BusinessCenterName
processdashboard.excel.export.graphP2.5=SELECT b1.BusinessCenterName, ROUND( SUM( TotalFTE ) / (SELECT SUM( TotalFTE ) FROM HRDataEmployeeEntry, HRDataEntry, BusinessCenter b2 WHERE HRDataEntry.EntryId = HRDataEmployeeEntry.EntryId AND b2.BusinessCenterId = HRDataEntry.BusinessCenterId AND HRDataEntry.EntryDate = ? AND b2.BusinessCenterId = b1.BusinessCenterId AND HRDataEmployeeEntry.ProcessId =? ) *100, 0 ) perc FROM HRDataEntry, HRDataEmployeeEntry, BusinessCenter b1 WHERE HRDataEntry.EntryId = HRDataEmployeeEntry.EntryId AND b1.BusinessCenterId = HRDataEntry.BusinessCenterId AND HRDataEntry.EntryDate = ? AND HRDataEmployeeEntry.Tier =? AND HRDataEmployeeEntry.ProcessId =? GROUP BY b1.BusinessCenterName
#########################Ends###########################################
#########################SubProcess Dashboard###########################
subprocessdashboard.excel.export.graphS1.1=SELECT BusinessCenterName,COUNT(EmployeeName) AS Resource FROM HRDataEmployeeEntry,BusinessCenter ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND HRDataEmployeeEntry.SubProcessId=? AND HRDataEntry.EntryDate=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName
#subprocessdashboard.excel.export.graph1.2=SELECT BusinessCenterName, CASE HRDataEntry.EntryDate WHEN 'date1' THEN COUNT(EmployeeName)  ELSE 0 END AS 'date1', CASE HRDataEntry.EntryDate WHEN 'date2' THEN COUNT(EmployeeName)  ELSE 0 END AS 'date2' FROM HRDataEmployeeEntry,BusinessCenter ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND HRDataEmployeeEntry.SubProcessId=? AND HRDataEntry.EntryDate IN ( 'date1','date2') GROUP BY BusinessCenterName ORDER BY BusinessCenterName
subprocessdashboard.excel.export.graphS1.2=SELECT BusinessCenterName, sum(CASE HRDataEntry.EntryDate WHEN 'date1' THEN 1  ELSE 0 END) AS 'date1', sum(CASE HRDataEntry.EntryDate WHEN 'date2' THEN 1  ELSE 0 END) AS 'date2' FROM HRDataEmployeeEntry,BusinessCenter ,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEntry.BusinessCenterId=BusinessCenter.BusinessCenterId AND HRDataEmployeeEntry.SubProcessId=? AND HRDataEntry.EntryDate IN ( 'date1','date2') GROUP BY BusinessCenterName ORDER BY BusinessCenterName
subprocessdashboard.excel.export.graphS2.1=SELECT CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation)  AS TierDesignation, COUNT(EmployeeName) AS Resource FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier=HRDataEmployeeEntry.Tier AND HRDataEmployeeEntry.SubProcessId=? AND HRDataEntry.EntryDate=? GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
#subprocessdashboard.excel.export.graph1.4=SELECT CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation)  AS TierDesignation, CASE HRDataEntry.EntryDate WHEN 'date1' THEN COUNT(EmployeeName)  ELSE 0 END AS 'date1', CASE HRDataEntry.EntryDate WHEN 'date2' THEN COUNT(EmployeeName)  ELSE 0 END AS 'date2' FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier=HRDataEmployeeEntry.Tier AND HRDataEmployeeEntry.SubProcessId=? AND HRDataEntry.EntryDate IN ( 'date1','date2') GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
subprocessdashboard.excel.export.graphS2.2=SELECT CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation)  AS TierDesignation, sum(CASE HRDataEntry.EntryDate WHEN 'date1' THEN 1  ELSE 0 END) AS 'date1', sum(CASE HRDataEntry.EntryDate WHEN 'date2' THEN 1  ELSE 0 END) AS 'date2' FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier=HRDataEmployeeEntry.Tier AND HRDataEmployeeEntry.SubProcessId=? AND HRDataEntry.EntryDate IN ( 'date1','date2') GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
#subprocessdashboard.excel.export.graph1.5=SELECT CONCAT('Tier',' ',HRDataEmployeeEntry.Tier,' ',TierDesignation.Designation)  AS TierDesignation, ROUND(COUNT(EmployeeName) /(SELECT COUNT(EmployeeName) FROM HRDataEmployeeEntry,HRDataEntry WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND Tier=? AND HRDataEntry.BusinessCenterId=? AND HRDataEmployeeEntry.SubProcessId=? AND HRDataEntry.EntryDate=? ) *100,2) AS FTEPERC FROM HRDataEmployeeEntry,HRDataEntry,TierDesignation WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND TierDesignation.Tier=HRDataEmployeeEntry.Tier AND HRDataEntry.BusinessCenterId=? AND HRDataEmployeeEntry.SubProcessId=? AND HRDataEntry.EntryDate=? GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
subprocessdashboard.excel.export.graphS2.3=SELECT CONCAT( 'Tier', ' ', HRDataEmployeeEntry.Tier, ' ', TierDesignation.Designation ) AS TierDesignation, ROUND( SUM(TotalFTE ) / ( SELECT sum(TotalFTE) FROM HRDataEmployeeEntry, HRDataEntry H11 WHERE H11.EntryId = HRDataEmployeeEntry.EntryId AND HRDataEmployeeEntry.SubProcessId =? AND H11.EntryDate = ? ) *100, 2 ) AS FTEPERC FROM HRDataEmployeeEntry, HRDataEntry H21, TierDesignation WHERE H21.EntryId = HRDataEmployeeEntry.EntryId AND TierDesignation.Tier = HRDataEmployeeEntry.Tier AND HRDataEmployeeEntry.SubProcessId =? AND H21.EntryDate = ? GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
#subprocessdashboard.excel.export.graph1.6=SELECT BusinessCenterName,COUNT(EmployeeName) AS Resource ,TopValue,MedianValue,LowValue,Target FROM HRDataEmployeeEntry,HRDataEntry,BusinessCenter,BenchMark,HRDataEmployeeDetail,SubProcessTarget WHERE HRDataEntry.EntryId=HRDataEmployeeEntry.EntryId AND HRDataEmployeeDetail.EmployeeEntryid=HRDataEmployeeEntry.EmployeeEntryid AND HRDataEmployeeEntry.SubProcessId=? AND BusinessCenter.BusinessCenterId=HRDataEntry.BusinessCenterId AND BenchMark.BusinessUnitId=HRDataEmployeeDetail.BusinessUnitId AND BenchMark.ProcessId=HRDataEmployeeEntry.ProcessId AND BenchMark.SubProcessId=HRDataEmployeeEntry.SubProcessId AND BenchMark.BusinessCenterId=HRDataEntry.BusinessCenterId AND BenchMark.ParamTypeCode =2 AND HRDataEntry.EntryDate BETWEEN BenchMark.FromDate AND BenchMark.ToDate AND SubProcessTarget.SubProcessId=HRDataEmployeeEntry.SubProcessId AND HRDataEntry.EntryDate BETWEEN SubProcessTarget.FromDate AND SubProcessTarget.ToDate AND TargetStatus =? AND HRDataEntry.EntryDate=? AND HRDataEmployeeEntry.ProcessId=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName

subprocessdashboard.excel.export.graphS3.1=SELECT IFNULL( ROUND( SUM( actualvalue ) / (SELECT SUM( FTE ) FROM HRDataEmployeeDetail WHERE EmployeeEntryId IN (SELECT EmployeeEntryId FROM HRDataEmployeeEntry WHERE EntryId IN (SELECT EntryId FROM HRDataEntry WHERE EntryDate = ?  AND HRDataEntry.BusinessCenterId = e21.BusinessCenterId) AND SubProcessId =? ) ) , 0 ) , 0 ) AS AvgVolPerFTE, BusinessCenterName FROM ActualReference, BusinessCenter e21 WHERE ActualReference.Status =1 AND ActualReference.ParamTypeCode =2 AND e21.BusinessCenterId = ActualReference.BusinessCenterId AND ActualReference.StatementDate = ? AND ActualReference.SubProcessId =? GROUP BY BusinessCenterName
subprocessdashboard.excel.export.graphS1.3=SELECT BusinessCenterName , ROUND(SUM( TotalCompensation ) / SUM( TotalFTE ),0) AvgLabourCost FROM HRDataEntry, HRDataEmployeeEntry,BusinessCenter WHERE HRDataEmployeeEntry.EntryId = HRDataEntry.EntryId AND HRDataEntry.EntryDate = ? AND  HRDataEmployeeEntry.SubProcessId=? AND BusinessCenter.BusinessCenterId=HRDataEntry.BusinessCenterId GROUP BY BusinessCenterName
subprocessdashboard.excel.export.graphS1.4=SELECT BusinessCenterName , ROUND(SUM(CASE HRDataEntry.EntryDate WHEN 'date1' THEN  TotalCompensation ELSE 0 END ) /SUM(CASE HRDataEntry.EntryDate WHEN 'date1' THEN  TotalFTE ELSE 0 END ) )  'date1', ROUND(SUM(CASE HRDataEntry.EntryDate WHEN 'date2' THEN  TotalCompensation ELSE 0 END ) /SUM(CASE HRDataEntry.EntryDate WHEN 'date2' THEN  TotalFTE ELSE 0 END ) )  'date2' FROM HRDataEntry, HRDataEmployeeEntry,BusinessCenter WHERE HRDataEmployeeEntry.EntryId = HRDataEntry.EntryId AND HRDataEntry.EntryDate IN (  'date1','date2') AND  HRDataEmployeeEntry.SubProcessId=? AND BusinessCenter.BusinessCenterId=HRDataEntry.BusinessCenterId GROUP BY BusinessCenterName
subprocessdashboard.excel.export.graphS1.5=SELECT "Average Labor Cost",ROUND( SUM( TotalCompensation ) / SUM( TotalFTE ) , 0 ) GlobalAvgLabourCost FROM HRDataEntry, HRDataEmployeeEntry WHERE HRDataEmployeeEntry.EntryId = HRDataEntry.EntryId AND HRDataEntry.EntryDate = ? AND HRDataEmployeeEntry.SubProcessId =? 
subprocessdashboard.excel.export.graphS2.5=SELECT BusinessCenterName,ROUND(SUM(TotalFTE) /( SELECT SUM(TotalFTE) FROM HRDataEmployeeEntry H11,HRDataEntry H21 WHERE H11.EntryId=H21.Entryid AND H21.EntryDate=?  AND H11.SubProcessId=? AND H21.BusinessCenterId=H31.BusinessCenterId) *100,0) SpanOfControl FROM HRDataEntry H31, HRDataEmployeeEntry H41 ,BusinessCenter WHERE H31.EntryId = H41.EntryId AND H31.EntryDate = ? AND  H41.SubProcessId=? AND BusinessCenter.BusinessCenterId=H31.BusinessCenterId AND Tier=? GROUP BY BusinessCenterName
subprocessdashboard.excel.export.graphS2.4=SELECT CONCAT( 'Tier', ' ', HRDataEmployeeEntry.Tier, ' ', TierDesignation.Designation ) AS TierDesignation, ROUND( SUM( CASE H21.EntryDate WHEN 'date1' THEN TotalFTE ELSE 0 END ) / ( SELECT SUM(TotalFTE) FROM HRDataEmployeeEntry, HRDataEntry H11 WHERE H11.EntryId = HRDataEmployeeEntry.EntryId AND HRDataEmployeeEntry.SubProcessId =? AND H11.EntryDate = 'date1' ) *100, 2 ) AS 'date1', ROUND( SUM( CASE H21.EntryDate WHEN 'date2' THEN TotalFTE ELSE 0 END ) / ( SELECT SUM(TotalFTE) FROM HRDataEmployeeEntry, HRDataEntry H31 WHERE H31.EntryId = HRDataEmployeeEntry.EntryId AND HRDataEmployeeEntry.SubProcessId =? AND H31.EntryDate = 'date2' ) *100, 2 ) AS 'date2' FROM HRDataEmployeeEntry, HRDataEntry H21, TierDesignation WHERE H21.EntryId = HRDataEmployeeEntry.EntryId AND TierDesignation.Tier = HRDataEmployeeEntry.Tier AND HRDataEmployeeEntry.SubProcessId =? AND H21.EntryDate IN ('date1','date2') GROUP BY HRDataEmployeeEntry.Tier ORDER BY HRDataEmployeeEntry.Tier
subprocessdashboard.excel.export.graphS3.2=SELECT BusinessCenterName, IFNULL( ROUND( SUM(CASE ActualReference.StatementDate WHEN 'date1' THEN actualvalue  ELSE 0 END) / (SELECT SUM( FTE ) FROM HRDataEmployeeDetail WHERE EmployeeEntryId IN (SELECT EmployeeEntryId FROM HRDataEmployeeEntry WHERE EntryId IN (SELECT EntryId FROM HRDataEntry WHERE EntryDate = 'date1' AND HRDataEntry.BusinessCenterId = e21.BusinessCenterId) AND SubProcessId =? ) ) , 0 ) , 0 ) AS 'date1', IFNULL( ROUND( SUM(CASE ActualReference.StatementDate WHEN 'date2' THEN actualvalue  ELSE 0 END) / (SELECT SUM( FTE ) FROM HRDataEmployeeDetail WHERE EmployeeEntryId IN (SELECT EmployeeEntryId FROM HRDataEmployeeEntry WHERE EntryId IN (SELECT EntryId FROM HRDataEntry WHERE EntryDate ='date2' AND HRDataEntry.BusinessCenterId = e21.BusinessCenterId) AND SubProcessId =? ) ) , 0 ) , 0 ) AS 'date2' FROM ActualReference, BusinessCenter e21 WHERE ActualReference.Status =? AND ActualReference.ParamTypeCode =? AND e21.BusinessCenterId = ActualReference.BusinessCenterId AND ActualReference.StatementDate IN ('date1','date2') AND ActualReference.SubProcessId =? GROUP BY BusinessCenterName 
#subprocessdashboard.excel.export.graphS3.3=SELECT BusinessUnitName , ROUND(SUM(Cost)/(SELECT SUM(ActualValue) FROM ActualReference  WHERE ActualReference.ParamTypeCode=? AND ActualReference.SubProcessId=h21.SubProcessId AND ActualReference.StatementDate=h11.EntryDate AND ActualReference.BusinessUnitId=h31.BusinessUnitId AND ActualReference.BusinessCenterId=h11.BusinessCenterId  AND ActualReference.Status=?),2)  AS Avgpersonnelcost FROM HRDataEmployeeDetail h31,HRDataEmployeeEntry h21,HRDataEntry h11,BusinessUnit WHERE  h21.EntryId=h11.EntryId AND h31.EmployeeEntryId= h21.EmployeeEntryId AND BusinessUnit.BusinessUnitId=h31.BusinessUnitId AND h21.SubProcessId=?   AND h11.EntryDate=? AND h11.BusinessCenterId= ? GROUP BY BusinessUnitName ORDER BY BusinessUnitName
#subprocessdashboard.excel.export.graphS3.3=SELECT BusinessCenterName,ROUND(SUM(Cost)/(SELECT SUM(ActualValue) FROM ActualReference  WHERE ActualReference.ParamTypeCode=? AND ActualReference.SubProcessId=h21.SubProcessId AND ActualReference.StatementDate=h11.EntryDate AND ActualReference.BusinessUnitId=h31.BusinessUnitId AND ActualReference.BusinessCenterId=h11.BusinessCenterId  AND ActualReference.Status=?) ,?)  AS Avgpersonnelcost FROM HRDataEmployeeDetail h31,HRDataEmployeeEntry h21,HRDataEntry h11,BusinessCenter WHERE  h21.EntryId=h11.EntryId AND h31.EmployeeEntryId= h21.EmployeeEntryId AND BusinessCenter.BusinessCenterId=h11.BusinessCenterId AND h21.SubProcessId=?   AND h11.EntryDate=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName
subprocessdashboard.excel.export.graphS3.3=SELECT BusinessCenterName,ROUND(SUM(Cost)/(SELECT SUM(ActualValue) FROM ActualReference  WHERE ActualReference.ParamTypeCode=2 AND ActualReference.SubProcessId=? AND ActualReference.StatementDate=?  AND ActualReference.BusinessCenterId=h11.BusinessCenterId  AND ActualReference.Status=1) ,2)  AS Avgpersonnelcost FROM HRDataEmployeeDetail h31,HRDataEmployeeEntry h21,HRDataEntry h11,BusinessCenter WHERE  h21.EntryId=h11.EntryId AND h31.EmployeeEntryId= h21.EmployeeEntryId AND BusinessCenter.BusinessCenterId=h11.BusinessCenterId AND h21.SubProcessId=?   AND h11.EntryDate=? GROUP BY BusinessCenterName ORDER BY BusinessCenterName
#subprocessdashboard.excel.export.graphS3.4=SELECT BusinessUnitName, ROUND(SUM(CASE h11.EntryDate WHEN 'date1' THEN Cost ELSE 0 END)/(SELECT SUM(ActualValue) FROM ActualReference  WHERE ActualReference.ParamTypeCode=? AND ActualReference.SubProcessId=h21.SubProcessId AND ActualReference.StatementDate='date1' AND ActualReference.BusinessUnitId=h31.BusinessUnitId AND ActualReference.BusinessCenterId=h11.BusinessCenterId  AND ActualReference.Status=?),2)  AS 'date1', ROUND(SUM(CASE h11.EntryDate WHEN 'date2' THEN Cost ELSE 0 END)/(SELECT SUM(ActualValue) FROM ActualReference  WHERE ActualReference.ParamTypeCode=? AND ActualReference.SubProcessId=h21.SubProcessId AND ActualReference.StatementDate='date2' AND ActualReference.BusinessUnitId=h31.BusinessUnitId AND ActualReference.BusinessCenterId=h11.BusinessCenterId  AND ActualReference.Status=?),2)  AS 'date1' FROM HRDataEmployeeDetail h31,HRDataEmployeeEntry h21,HRDataEntry h11,BusinessUnit WHERE  h21.EntryId=h11.EntryId AND h31.EmployeeEntryId= h21.EmployeeEntryId AND BusinessUnit.BusinessUnitId=h31.BusinessUnitId AND h21.SubProcessId=?   AND h11.EntryDate IN ('date1','date2') AND h11.BusinessCenterId= ? GROUP BY BusinessUnitName ORDER BY BusinessUnitName
#subprocessdashboard.excel.export.graphS3.4=SELECT BusinessCenterName,ROUND(SUM(CASE h11.EntryDate WHEN 'date1' THEN Cost ELSE 0 END)/(SELECT SUM(ActualValue) FROM ActualReference  WHERE ActualReference.ParamTypeCode=? AND ActualReference.SubProcessId=h21.SubProcessId AND ActualReference.StatementDate='date1' AND ActualReference.BusinessUnitId=h31.BusinessUnitId AND ActualReference.BusinessCenterId=h11.BusinessCenterId  AND ActualReference.Status=?),?)  AS 'date1', ROUND(SUM(CASE h11.EntryDate WHEN 'date2' THEN Cost ELSE 0 END)/(SELECT SUM(ActualValue) FROM ActualReference  WHERE ActualReference.ParamTypeCode=? AND ActualReference.SubProcessId=h21.SubProcessId AND ActualReference.StatementDate='date2' AND ActualReference.BusinessUnitId=h31.BusinessUnitId AND ActualReference.BusinessCenterId=h11.BusinessCenterId  AND  ActualReference.Status=?) ,?)  AS 'date2' FROM HRDataEmployeeDetail h31,HRDataEmployeeEntry h21,HRDataEntry h11,BusinessCenter WHERE h21.EntryId=h11.EntryId AND h31.EmployeeEntryId= h21.EmployeeEntryId AND BusinessCenter.BusinessCenterId=h11.BusinessCenterId AND h21.SubProcessId=?   AND h11.EntryDate IN ('date1','date2')  GROUP BY BusinessCenterName  ORDER BY BusinessCenterName
subprocessdashboard.excel.export.graphS3.4=SELECT BusinessCenterName,ROUND(SUM(CASE h11.EntryDate WHEN 'date1' THEN Cost ELSE 0 END)/(SELECT SUM(ActualValue) FROM ActualReference  WHERE ActualReference.ParamTypeCode=2 AND ActualReference.SubProcessId=? AND ActualReference.StatementDate='date1' AND ActualReference.BusinessCenterId=h11.BusinessCenterId  AND ActualReference.Status=1),2)  AS 'date1', ROUND(SUM(CASE h11.EntryDate WHEN 'date2' THEN Cost ELSE 0 END)/(SELECT SUM(ActualValue) FROM ActualReference  WHERE ActualReference.ParamTypeCode=2 AND ActualReference.SubProcessId=? AND ActualReference.StatementDate='date2' AND ActualReference.BusinessCenterId=h11.BusinessCenterId  AND ActualReference.Status=1),2)  AS 'date2' FROM HRDataEmployeeDetail h31,HRDataEmployeeEntry h21,HRDataEntry h11,BusinessCenter WHERE h21.EntryId=h11.EntryId AND h31.EmployeeEntryId= h21.EmployeeEntryId AND BusinessCenter.BusinessCenterId=h11.BusinessCenterId AND h21.SubProcessId=?   AND h11.EntryDate IN ('date1','date2')  GROUP BY BusinessCenterName  ORDER BY BusinessCenterName

#########################Ends###########################################
##############Ends Excel Dashboard###########################################
###########################Volume Description ###########################
volumedescription.insert=INSERT INTO VolumeDescription (SubProcessId,VolumeDescription,Status)VALUES(?,?,?)
volumedescription.getlist=SELECT VolumeDescId,VolumeDescription FROM VolumeDescription vd JOIN SubProcess sp ON vd.SubProcessId=sp.SubProcessId ORDER BY sp.SubProcessName
volumedescription.getdata=SELECT * FROM VolumeDescription WHERE VolumeDescId=?
volumedescription.edit=UPDATE VolumeDescription SET SubProcessId=?,VolumeDescription=?,Status=? WHERE VolumeDescId=?

############################################################################=======
##############Ends Excel Dashboard###########################################

####################Excel Exporting###############################
hrdataentry.hasentry.param1=SELECT EntryId FROM HRDataEntry WHERE HRDataEntry.EntryDate=? LIMIT 1
hrdataentry.hasentry.param2=SELECT EntryId FROM HRDataEntry WHERE HRDataEntry.EntryDate=? AND HRDataEntry.BusinessCenterId=?
#################### End Excel Exporting###############################
actualreferencetemp.insert=INSERT INTO TempActualReference (OrganizationId,BusinessUnitId,BusinessCenterId,SubProcessId,StatementDate,ParamTypeCode,ActualValue,Status,VolumeDescId) VALUES (?,?,?,?,?,?,?,?,?)

#################### KPI insertion ###################################
kpiselect=SELECT KPIId,KPIDescription,SubProcessName,KPI.SubProcessId FROM KPI LEFT JOIN SubProcess ON KPI.SubProcessId=SubProcess.SubProcessId WHERE KPI.SubProcessId=SubProcess.SubProcessId
#kpi.getkpiscores=SELECT BusinessUnitId,IFNULL(KPIScore,0) FROM KPIScore WHERE BusinessCenterId=? AND StatementDate=? AND KPIId=?
kpi.getkpiscores=SELECT DISTINCT t.BusinessUnitId,IFNULL(KPIScore,0) FROM (SELECT BusinessUnitId FROM BusinessCenterBusinessUnit WHERE BusinessCenterId=?) t LEFT JOIN KPIScore ON KPIScore.BusinessUnitId=t.BusinessUnitId AND StatementDate=? AND KPIId=?
kpi.centeravg=SELECT DISTINCT(CenterAverage) FROM KPICenterAverage WHERE BusinessCenterId=? AND StatementDate=? AND KPIId=?
kpi.deleteAvg=DELETE FROM KPICenterAverage WHERE BusinessCenterId=? AND StatementDate=?
kpi.deleteScore=DELETE FROM KPIScore WHERE BusinessCenterId=? AND StatementDate=?
kpicenterAverageInsert=INSERT INTO KPICenterAverage (OrganizationId,BusinessCenterId,SubProcessId,KPIId,StatementDate,CenterAverage) VALUES (?,?,?,?,?,?)
kpiScoreInsert=INSERT INTO KPIScore(OrganizationId,BusinessUnitId,BusinessCenterId,SubProcessId,KPIId,StatementDate,KPIScore) VALUES (?,?,?,?,?,?,?)
kpibysubprocess=SELECT KPIId,KPIDescription FROM KPI WHERE SubProcessId=?

##################Statement#########################
<<<<<<< .mine
statement.rencent4dates=SELECT EntryDate,EntryDate FROM StatementEntry WHERE EntryStatus=1 ORDER BY EntryDate DESC LIMIT 4

##################Target#########################
metric.add=INSERT INTO `Metric` (`Metric`, `Status`) VALUES (?, ?)
metric.select.all=SELECT `MetricId`, `Metric`, `Status` FROM `Metric`
metric.select=SELECT `MetricId`, `Metric`, `Status` FROM `Metric` WHERE `MetricId`=?
metric.update=UPDATE `Metric` SET `Metric` = ? , `Status` = ? WHERE `MetricId` = ?=======
statement.rencent4dates=SELECT EntryDate,EntryDate FROM StatementEntry WHERE EntryStatus=1 ORDER BY EntryDate DESC LIMIT 4

############################# Action Type ###########################
actiontype.insert = INSERT INTO `ActionType` (`ActionType`, `Status`)VALUES(?,?);
actiontype.checkexists = SELECT * FROM ActionType WHERE ActionType = ?
>>>>>>> .r4
